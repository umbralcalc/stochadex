<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
  <style>
    .body {
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
      color: #1F2328;
      background-color: #ffff;
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
      line-height: 1.5;
      word-wrap: break-word;
      text-align: justify;
    }

    .body h1 {
      margin: 0;
      font-size: 200%;
      color: rgb(42, 65, 83);
      border-radius: 6px;
      word-wrap: break-word;
      text-align: left;
    }

    .body h2, h3, h4, h5 {
      margin: 0;
      font-size: 150%;
      color: rgb(42, 65, 83);
      border-radius: 6px;
      word-wrap: break-word;
      text-align: left;
    }

    .body strong {
      color: rgb(42, 65, 83);
    }

    .body a {
      color: #0969da;
      font-weight: bold;
      text-decoration: none;
    }

    .body a:hover {
      color: LightGrey;
    }

    code {
      padding: .5em 1em;
      font-size: 95%;
      color: #F5F5F5;
      background-color: rgb(42, 65, 83);
      border-radius: 6px;
      overflow: auto;
      display: block;
    }

    .centered {
      text-align: center;
    }

    img:not(.no-center), 
    svg:not(.no-center) {
      display: block;
      margin: 1em auto;
      max-width: 100%;
      height: auto;
    }

    img.no-center, 
    svg.no-center {
      display: inline;
      margin: 0;
    }

    .otherimgs {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    .otherimgs img {
      display: inline-block;
      height: auto;
      margin: 0;
    }

    .articleHeader {
      padding: .2em .4em;
      margin: 1em;
      font-size: 95%;
      color: rgb(79, 97, 114);
      background-color: #ffff;
      border-radius: 6px;
      overflow: auto;
      text-align: justify;
    }

    a.articleTitle h1 {
      text-align: left;
      color: rgb(79, 97, 114);
      text-align: left;
    }

    a.articleTitle h1:hover {
      color: LightGrey;
    }

    .articleHeader strong {
      font-size: 95%;
      color: rgb(79, 97, 114);
      background-color: #ffff;
      border-radius: 6px;
      overflow: auto;
    }

    .body .navbar {
      padding:8px 16px;
      float:right;
      width:auto;
      border:none;
      display:block;
      outline:0;
      color: LightGrey;
    }

    .logofavicon {
      vertical-align: middle;
    }

    .body .repotitle {
      float: left;
      text-align: left;
    }

    strong.nameRepo {
      color: rgb(42, 65, 83);
    }

    .body .navbar:hover {
      color: rgb(42, 65, 83);
    }

    .csl-entry {
      display: flex;
      margin-top: 15px;
    }

    #references {
      margin-bottom: 0.5em;
    }

    .csl-left-margin {
      margin-right: 10px;
    }

    .custom-spacer {
      display: block;
      height: 1em;
    }

    @media (max-width: 767px) {
      .body {
        padding: 15px;
      }
      p {
        overflow-x: auto;
      }
      p span.math.display {
        display: inline-block;
        overflow-x: auto;
        white-space: nowrap;
      }
    }
  </style>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<article class="body">
<a class="navbar" href="https://umbralcalc.github.io/stochadex">
Home
</a>
<a class="navbar" href="https://github.com/umbralcalc">
About
</a>
<div class="repotitle">
<span class="logofavicon"> <img src="../assets/logo.png" width="120"></img></span>
</div>
</br>
</br>
</br>
<!-- Code generated by gomarkdoc. DO NOT EDIT -->
<h1 id="simulator">simulator</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="st">&quot;github.com/umbralcalc/stochadex/pkg/simulator&quot;</span></span></code></pre></div>
<h2 id="index">Index</h2>
<ul>
<li><a href="#variables">Variables</a></li>
<li><a href="#RunWithHarnesses">func RunWithHarnesses(settings
*Settings, implementations *Implementations) error</a></li>
<li><a href="#ConfigGenerator">type ConfigGenerator</a>
<ul>
<li><a href="#NewConfigGenerator">func NewConfigGenerator()
*ConfigGenerator</a></li>
<li><a href="#ConfigGenerator.GenerateConfigs">func (c *ConfigGenerator)
GenerateConfigs() (*Settings, *Implementations)</a></li>
<li><a href="#ConfigGenerator.GetGlobalSeed">func (c *ConfigGenerator)
GetGlobalSeed() uint64</a></li>
<li><a href="#ConfigGenerator.GetPartition">func (c *ConfigGenerator)
GetPartition(name string) *PartitionConfig</a></li>
<li><a href="#ConfigGenerator.GetSimulation">func (c *ConfigGenerator)
GetSimulation() *SimulationConfig</a></li>
<li><a href="#ConfigGenerator.ResetPartition">func (c *ConfigGenerator)
ResetPartition(name string, config *PartitionConfig)</a></li>
<li><a href="#ConfigGenerator.SetGlobalSeed">func (c *ConfigGenerator)
SetGlobalSeed(seed uint64)</a></li>
<li><a href="#ConfigGenerator.SetPartition">func (c *ConfigGenerator)
SetPartition(config *PartitionConfig)</a></li>
<li><a href="#ConfigGenerator.SetSimulation">func (c *ConfigGenerator)
SetSimulation(config *SimulationConfig)</a></li>
</ul></li>
<li><a href="#ConstantTimestepFunction">type
ConstantTimestepFunction</a>
<ul>
<li><a href="#ConstantTimestepFunction.NextIncrement">func (t
*ConstantTimestepFunction) NextIncrement(timestepsHistory
*CumulativeTimestepsHistory) float64</a></li>
</ul></li>
<li><a href="#CumulativeTimestepsHistory">type
CumulativeTimestepsHistory</a></li>
<li><a href="#DownstreamStateValues">type DownstreamStateValues</a></li>
<li><a href="#EveryNStepsOutputCondition">type
EveryNStepsOutputCondition</a>
<ul>
<li><a href="#EveryNStepsOutputCondition.IsOutputStep">func (c
*EveryNStepsOutputCondition) IsOutputStep(partitionName string, state
[]float64, cumulativeTimesteps float64) bool</a></li>
</ul></li>
<li><a href="#EveryStepOutputCondition">type
EveryStepOutputCondition</a>
<ul>
<li><a href="#EveryStepOutputCondition.IsOutputStep">func (c
*EveryStepOutputCondition) IsOutputStep(partitionName string, state
[]float64, cumulativeTimesteps float64) bool</a></li>
</ul></li>
<li><a href="#ExponentialDistributionTimestepFunction">type
ExponentialDistributionTimestepFunction</a>
<ul>
<li><a href="#NewExponentialDistributionTimestepFunction">func
NewExponentialDistributionTimestepFunction(mean float64, seed uint64)
*ExponentialDistributionTimestepFunction</a></li>
<li><a
href="#ExponentialDistributionTimestepFunction.NextIncrement">func (t
*ExponentialDistributionTimestepFunction) NextIncrement(timestepsHistory
*CumulativeTimestepsHistory) float64</a></li>
</ul></li>
<li><a href="#Implementations">type Implementations</a></li>
<li><a href="#Iteration">type Iteration</a></li>
<li><a href="#IterationSettings">type IterationSettings</a></li>
<li><a href="#IterationTestHarness">type IterationTestHarness</a>
<ul>
<li><a href="#IterationTestHarness.Configure">func (h
*IterationTestHarness) Configure(partitionIndex int, settings
*Settings)</a></li>
<li><a href="#IterationTestHarness.Iterate">func (h
*IterationTestHarness) Iterate(params *Params, partitionIndex int,
stateHistories []*StateHistory, timestepsHistory
*CumulativeTimestepsHistory) []float64</a></li>
</ul></li>
<li><a href="#IteratorInputMessage">type IteratorInputMessage</a></li>
<li><a href="#JsonLogChannelOutputFunction">type
JsonLogChannelOutputFunction</a>
<ul>
<li><a href="#NewJsonLogChannelOutputFunction">func
NewJsonLogChannelOutputFunction(filePath string)
*JsonLogChannelOutputFunction</a></li>
<li><a href="#JsonLogChannelOutputFunction.Close">func (j
*JsonLogChannelOutputFunction) Close()</a></li>
<li><a href="#JsonLogChannelOutputFunction.Output">func (j
*JsonLogChannelOutputFunction) Output(partitionName string, state
[]float64, cumulativeTimesteps float64)</a></li>
</ul></li>
<li><a href="#JsonLogEntry">type JsonLogEntry</a></li>
<li><a href="#JsonLogOutputFunction">type JsonLogOutputFunction</a>
<ul>
<li><a href="#NewJsonLogOutputFunction">func
NewJsonLogOutputFunction(filePath string)
*JsonLogOutputFunction</a></li>
<li><a href="#JsonLogOutputFunction.Output">func (j
*JsonLogOutputFunction) Output(partitionName string, state []float64,
cumulativeTimesteps float64)</a></li>
</ul></li>
<li><a href="#NamedPartitionIndex">type NamedPartitionIndex</a></li>
<li><a href="#NamedUpstreamConfig">type NamedUpstreamConfig</a></li>
<li><a href="#NilOutputCondition">type NilOutputCondition</a>
<ul>
<li><a href="#NilOutputCondition.IsOutputStep">func (c
*NilOutputCondition) IsOutputStep(partitionName string, state []float64,
cumulativeTimesteps float64) bool</a></li>
</ul></li>
<li><a href="#NilOutputFunction">type NilOutputFunction</a>
<ul>
<li><a href="#NilOutputFunction.Output">func (f *NilOutputFunction)
Output(partitionName string, state []float64, cumulativeTimesteps
float64)</a></li>
</ul></li>
<li><a href="#NumberOfStepsTerminationCondition">type
NumberOfStepsTerminationCondition</a>
<ul>
<li><a href="#NumberOfStepsTerminationCondition.Terminate">func (t
*NumberOfStepsTerminationCondition) Terminate(stateHistories
[]*StateHistory, timestepsHistory *CumulativeTimestepsHistory)
bool</a></li>
</ul></li>
<li><a href="#OnlyGivenPartitionsOutputCondition">type
OnlyGivenPartitionsOutputCondition</a>
<ul>
<li><a href="#OnlyGivenPartitionsOutputCondition.IsOutputStep">func (o
*OnlyGivenPartitionsOutputCondition) IsOutputStep(partitionName string,
state []float64, cumulativeTimesteps float64) bool</a></li>
</ul></li>
<li><a href="#OutputCondition">type OutputCondition</a></li>
<li><a href="#OutputFunction">type OutputFunction</a></li>
<li><a href="#Params">type Params</a>
<ul>
<li><a href="#NewParams">func NewParams(params map[string][]float64)
Params</a></li>
<li><a href="#Params.Get">func (p *Params) Get(name string)
[]float64</a></li>
<li><a href="#Params.GetCopy">func (p *Params) GetCopy(name string)
[]float64</a></li>
<li><a href="#Params.GetCopyOk">func (p *Params) GetCopyOk(name string)
([]float64, bool)</a></li>
<li><a href="#Params.GetIndex">func (p *Params) GetIndex(name string,
index int) float64</a></li>
<li><a href="#Params.GetOk">func (p *Params) GetOk(name string)
([]float64, bool)</a></li>
<li><a href="#Params.Set">func (p *Params) Set(name string, values
[]float64)</a></li>
<li><a href="#Params.SetIndex">func (p *Params) SetIndex(name string,
index int, value float64)</a></li>
<li><a href="#Params.SetPartitionName">func (p *Params)
SetPartitionName(name string)</a></li>
</ul></li>
<li><a href="#PartitionConfig">type PartitionConfig</a>
<ul>
<li><a href="#LoadPartitionConfigFromYaml">func
LoadPartitionConfigFromYaml(path string) *PartitionConfig</a></li>
<li><a href="#PartitionConfig.Init">func (p *PartitionConfig)
Init()</a></li>
</ul></li>
<li><a href="#PartitionConfigOrdering">type PartitionConfigOrdering</a>
<ul>
<li><a href="#PartitionConfigOrdering.Append">func (p
*PartitionConfigOrdering) Append(config *PartitionConfig)</a></li>
</ul></li>
<li><a href="#PartitionCoordinator">type PartitionCoordinator</a>
<ul>
<li><a href="#NewPartitionCoordinator">func
NewPartitionCoordinator(settings *Settings, implementations
*Implementations) *PartitionCoordinator</a></li>
<li><a href="#PartitionCoordinator.ReadyToTerminate">func (c
*PartitionCoordinator) ReadyToTerminate() bool</a></li>
<li><a href="#PartitionCoordinator.RequestMoreIterations">func (c
*PartitionCoordinator) RequestMoreIterations(wg
*sync.WaitGroup)</a></li>
<li><a href="#PartitionCoordinator.Run">func (c *PartitionCoordinator)
Run()</a></li>
<li><a href="#PartitionCoordinator.Step">func (c *PartitionCoordinator)
Step(wg *sync.WaitGroup)</a></li>
<li><a href="#PartitionCoordinator.UpdateHistory">func (c
*PartitionCoordinator) UpdateHistory(wg *sync.WaitGroup)</a></li>
</ul></li>
<li><a href="#PartitionState">type PartitionState</a>
<ul>
<li><a href="#PartitionState.Descriptor">func (*PartitionState)
Descriptor() ([]byte, []int)</a></li>
<li><a href="#PartitionState.GetCumulativeTimesteps">func (x
*PartitionState) GetCumulativeTimesteps() float64</a></li>
<li><a href="#PartitionState.GetPartitionName">func (x *PartitionState)
GetPartitionName() string</a></li>
<li><a href="#PartitionState.GetState">func (x *PartitionState)
GetState() []float64</a></li>
<li><a href="#PartitionState.ProtoMessage">func (*PartitionState)
ProtoMessage()</a></li>
<li><a href="#PartitionState.ProtoReflect">func (x *PartitionState)
ProtoReflect() protoreflect.Message</a></li>
<li><a href="#PartitionState.Reset">func (x *PartitionState)
Reset()</a></li>
<li><a href="#PartitionState.String">func (x *PartitionState) String()
string</a></li>
</ul></li>
<li><a href="#Settings">type Settings</a>
<ul>
<li><a href="#LoadSettingsFromYaml">func LoadSettingsFromYaml(path
string) *Settings</a></li>
<li><a href="#Settings.Init">func (s *Settings) Init()</a></li>
</ul></li>
<li><a href="#SimulationConfig">type SimulationConfig</a></li>
<li><a href="#SimulationConfigStrings">type SimulationConfigStrings</a>
<ul>
<li><a href="#LoadSimulationConfigStringsFromYaml">func
LoadSimulationConfigStringsFromYaml(path string)
*SimulationConfigStrings</a></li>
</ul></li>
<li><a href="#StateHistory">type StateHistory</a>
<ul>
<li><a href="#StateHistory.CopyStateRow">func (s *StateHistory)
CopyStateRow(index int) []float64</a></li>
<li><a href="#StateHistory.GetNextStateRowToUpdate">func (s
*StateHistory) GetNextStateRowToUpdate() []float64</a></li>
</ul></li>
<li><a href="#StateIterator">type StateIterator</a>
<ul>
<li><a href="#NewStateIterator">func NewStateIterator(iteration
Iteration, params Params, partitionName string, partitionIndex int,
valueChannels StateValueChannels, outputCondition OutputCondition,
outputFunction OutputFunction, initState []float64, initTime float64)
*StateIterator</a></li>
<li><a href="#StateIterator.Iterate">func (s *StateIterator)
Iterate(stateHistories []*StateHistory, timestepsHistory
*CumulativeTimestepsHistory) []float64</a></li>
<li><a href="#StateIterator.ReceiveAndIteratePending">func (s
*StateIterator) ReceiveAndIteratePending(inputChannel &lt;-chan
*IteratorInputMessage)</a></li>
<li><a href="#StateIterator.UpdateHistory">func (s *StateIterator)
UpdateHistory(inputChannel &lt;-chan *IteratorInputMessage)</a></li>
</ul></li>
<li><a href="#StateTimeStorage">type StateTimeStorage</a>
<ul>
<li><a href="#NewStateTimeStorage">func NewStateTimeStorage()
*StateTimeStorage</a></li>
<li><a href="#StateTimeStorage.ConcurrentAppend">func (s
*StateTimeStorage) ConcurrentAppend(name string, time float64, values
[]float64)</a></li>
<li><a href="#StateTimeStorage.GetIndex">func (s *StateTimeStorage)
GetIndex(name string) int</a></li>
<li><a href="#StateTimeStorage.GetNames">func (s *StateTimeStorage)
GetNames() []string</a></li>
<li><a href="#StateTimeStorage.GetTimes">func (s *StateTimeStorage)
GetTimes() []float64</a></li>
<li><a href="#StateTimeStorage.GetValues">func (s *StateTimeStorage)
GetValues(name string) [][]float64</a></li>
<li><a href="#StateTimeStorage.SetTimes">func (s *StateTimeStorage)
SetTimes(times []float64)</a></li>
<li><a href="#StateTimeStorage.SetValues">func (s *StateTimeStorage)
SetValues(name string, values [][]float64)</a></li>
</ul></li>
<li><a href="#StateTimeStorageOutputFunction">type
StateTimeStorageOutputFunction</a>
<ul>
<li><a href="#StateTimeStorageOutputFunction.Output">func (f
*StateTimeStorageOutputFunction) Output(partitionName string, state
[]float64, cumulativeTimesteps float64)</a></li>
</ul></li>
<li><a href="#StateValueChannels">type StateValueChannels</a>
<ul>
<li><a href="#StateValueChannels.BroadcastDownstream">func (s
*StateValueChannels) BroadcastDownstream(stateValues []float64)</a></li>
<li><a href="#StateValueChannels.UpdateUpstreamParams">func (s
*StateValueChannels) UpdateUpstreamParams(params *Params)</a></li>
</ul></li>
<li><a href="#StdoutOutputFunction">type StdoutOutputFunction</a>
<ul>
<li><a href="#StdoutOutputFunction.Output">func (s
*StdoutOutputFunction) Output(partitionName string, state []float64,
cumulativeTimesteps float64)</a></li>
</ul></li>
<li><a href="#TerminationCondition">type TerminationCondition</a></li>
<li><a href="#TimeElapsedTerminationCondition">type
TimeElapsedTerminationCondition</a>
<ul>
<li><a href="#TimeElapsedTerminationCondition.Terminate">func (t
*TimeElapsedTerminationCondition) Terminate(stateHistories
[]*StateHistory, timestepsHistory *CumulativeTimestepsHistory)
bool</a></li>
</ul></li>
<li><a href="#TimestepFunction">type TimestepFunction</a></li>
<li><a href="#UpstreamConfig">type UpstreamConfig</a></li>
<li><a href="#UpstreamStateValues">type UpstreamStateValues</a></li>
<li><a href="#WebsocketOutputFunction">type WebsocketOutputFunction</a>
<ul>
<li><a href="#NewWebsocketOutputFunction">func
NewWebsocketOutputFunction(connection *websocket.Conn, mutex
*sync.Mutex) *WebsocketOutputFunction</a></li>
<li><a href="#WebsocketOutputFunction.Output">func (w
*WebsocketOutputFunction) Output(partitionName string, state []float64,
cumulativeTimesteps float64)</a></li>
</ul></li>
</ul>
<h2 id="variables">Variables</h2>
<p><a name="File_cmd_messages_partition_state_proto"></a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> File_cmd_messages_partition_state_proto protoreflect<span class="op">.</span>FileDescriptor</span></code></pre></div>
<p><a name="RunWithHarnesses"></a></p>
<h2 id="func-runwithharnesses">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L127">RunWithHarnesses</a></h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> RunWithHarnesses<span class="op">(</span>settings <span class="op">*</span>Settings<span class="op">,</span> implementations <span class="op">*</span>Implementations<span class="op">)</span> <span class="dt">error</span></span></code></pre></div>
<p>RunWithHarnesses runs all iterations, each wrapped in a test harness
and returns any errors if found. The simulation is also run twice to
check for statefulness residues.</p>
<p><a name="ConfigGenerator"></a></p>
<h2 id="type-configgenerator">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L152-L156">ConfigGenerator</a></h2>
<p>ConfigGenerator enables users to dynamically configure a stochadex
simulation programmatically while providing tools for just-in-time
generation of the necessary Implementation and Settings configs required
to create a new PartitionCoordinator through the .GenerateConfigs
method.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> ConfigGenerator <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewConfigGenerator"></a></p>
<h3 id="func-newconfiggenerator">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L281">NewConfigGenerator</a></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewConfigGenerator<span class="op">()</span> <span class="op">*</span>ConfigGenerator</span></code></pre></div>
<p>NewConfigGenerator creates a new ConfigGenerator.</p>
<p><a name="ConfigGenerator.GenerateConfigs"></a></p>
<h3 id="func-configgenerator-generateconfigs">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L211">GenerateConfigs</a></h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GenerateConfigs<span class="op">()</span> <span class="op">(*</span>Settings<span class="op">,</span> <span class="op">*</span>Implementations<span class="op">)</span></span></code></pre></div>
<p>GenerateConfigs generates the necessary Implementation and Settings
configs required to create a new PartitionCoordinator based on the
currently configured simulation that is represented by the
generator.</p>
<p><a name="ConfigGenerator.GetGlobalSeed"></a></p>
<h3 id="func-configgenerator-getglobalseed">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L159">GetGlobalSeed</a></h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GetGlobalSeed<span class="op">()</span> <span class="dt">uint64</span></span></code></pre></div>
<p>GetGlobalSeed retrieves what global seed is currently set.</p>
<p><a name="ConfigGenerator.GetPartition"></a></p>
<h3 id="func-configgenerator-getpartition">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L186">GetPartition</a></h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GetPartition<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>PartitionConfig</span></code></pre></div>
<p>GetPartition retrieves a partition config in the generator using on
its name.</p>
<p><a name="ConfigGenerator.GetSimulation"></a></p>
<h3 id="func-configgenerator-getsimulation">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L175">GetSimulation</a></h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GetSimulation<span class="op">()</span> <span class="op">*</span>SimulationConfig</span></code></pre></div>
<p>GetSimulation retrieves the current configured simulation config that
is in the generator.</p>
<p><a name="ConfigGenerator.ResetPartition"></a></p>
<h3 id="func-configgenerator-resetpartition">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L199">ResetPartition</a></h3>
<div class="sourceCode" id="cb10"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> ResetPartition<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> config <span class="op">*</span>PartitionConfig<span class="op">)</span></span></code></pre></div>
<p>ResetPartition allows the user to reset the config for a partition by
name.</p>
<p><a name="ConfigGenerator.SetGlobalSeed"></a></p>
<h3 id="func-configgenerator-setglobalseed">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L165">SetGlobalSeed</a></h3>
<div class="sourceCode" id="cb11"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> SetGlobalSeed<span class="op">(</span>seed <span class="dt">uint64</span><span class="op">)</span></span></code></pre></div>
<p>SetGlobalSeed sets a random seed for each partition in the simulation
based on a process which itself is dependent on the input random
seed.</p>
<p><a name="ConfigGenerator.SetPartition"></a></p>
<h3 id="func-configgenerator-setpartition">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L193">SetPartition</a></h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> SetPartition<span class="op">(</span>config <span class="op">*</span>PartitionConfig<span class="op">)</span></span></code></pre></div>
<p>SetPartition sets another new partition config in the generator which
must have a unique name field to every other one which currently exists
otherwise there is an error.</p>
<p><a name="ConfigGenerator.SetSimulation"></a></p>
<h3 id="func-configgenerator-setsimulation">func (*ConfigGenerator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L180">SetSimulation</a></h3>
<div class="sourceCode" id="cb13"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> SetSimulation<span class="op">(</span>config <span class="op">*</span>SimulationConfig<span class="op">)</span></span></code></pre></div>
<p>SetSimulation sets a new simulation config in the generator.</p>
<p><a name="ConstantTimestepFunction"></a></p>
<h2 id="type-constanttimestepfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L18-L20">ConstantTimestepFunction</a></h2>
<p>ConstantTimestepFunction iterates the timestep by a constant
stepsize.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> ConstantTimestepFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    Stepsize <span class="dt">float64</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="ConstantTimestepFunction.NextIncrement"></a></p>
<h3 id="func-constanttimestepfunction-nextincrement">func
(*ConstantTimestepFunction) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L22-L24">NextIncrement</a></h3>
<div class="sourceCode" id="cb15"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>ConstantTimestepFunction<span class="op">)</span> NextIncrement<span class="op">(</span>timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">float64</span></span></code></pre></div>
<p><a name="CumulativeTimestepsHistory"></a></p>
<h2 id="type-cumulativetimestepshistory">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L38-L43">CumulativeTimestepsHistory</a></h2>
<p>CumulativeTimestepsHistory is a windowed history of cumulative
timestep values which includes the next value to increment time by and
number of steps taken.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> CumulativeTimestepsHistory <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    NextIncrement     <span class="dt">float64</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    Values            <span class="op">*</span>mat<span class="op">.</span>VecDense</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    CurrentStepNumber <span class="dt">int</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth <span class="dt">int</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="DownstreamStateValues"></a></p>
<h2 id="type-downstreamstatevalues">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L27-L30">DownstreamStateValues</a></h2>
<p>DownstreamStateValues contains the information needed to send state
values to a computationally-downstream StateIterator.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> DownstreamStateValues <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    Channel <span class="kw">chan</span> <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    Copies  <span class="dt">int</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="EveryNStepsOutputCondition"></a></p>
<h2 id="type-everynstepsoutputcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L260-L263">EveryNStepsOutputCondition</a></h2>
<p>EveryNStepsOutputCondition calls the OutputFunction once for every N
steps that occur.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> EveryNStepsOutputCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    N <span class="dt">int</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="EveryNStepsOutputCondition.IsOutputStep"></a></p>
<h3 id="func-everynstepsoutputcondition-isoutputstep">func
(*EveryNStepsOutputCondition) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L265-L269">IsOutputStep</a></h3>
<div class="sourceCode" id="cb19"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>EveryNStepsOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
<p><a name="EveryStepOutputCondition"></a></p>
<h2 id="type-everystepoutputcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L248">EveryStepOutputCondition</a></h2>
<p>EveryStepOutputCondition calls the OutputFunction at every step.</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> EveryStepOutputCondition <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
<p><a name="EveryStepOutputCondition.IsOutputStep"></a></p>
<h3 id="func-everystepoutputcondition-isoutputstep">func
(*EveryStepOutputCondition) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L250-L254">IsOutputStep</a></h3>
<div class="sourceCode" id="cb21"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>EveryStepOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
<p><a name="ExponentialDistributionTimestepFunction"></a></p>
<h2 id="type-exponentialdistributiontimestepfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L30-L34">ExponentialDistributionTimestepFunction</a></h2>
<p>ExponentialDistributionTimestepFunction iterates the timestep by a
new sample drawn from an exponential distribution with hyperparameters
set by Mean and Seed.</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> ExponentialDistributionTimestepFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    Mean <span class="dt">float64</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    Seed <span class="dt">uint64</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewExponentialDistributionTimestepFunction"></a></p>
<h3 id="func-newexponentialdistributiontimestepfunction">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L44-L47">NewExponentialDistributionTimestepFunction</a></h3>
<div class="sourceCode" id="cb23"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewExponentialDistributionTimestepFunction<span class="op">(</span>mean <span class="dt">float64</span><span class="op">,</span> seed <span class="dt">uint64</span><span class="op">)</span> <span class="op">*</span>ExponentialDistributionTimestepFunction</span></code></pre></div>
<p>New ExponentialDistributionTimestepFunction creates a new
ExponentialDistributionTimestepFunction given a mean and seed.</p>
<p><a name="ExponentialDistributionTimestepFunction.NextIncrement"></a></p>
<h3 id="func-exponentialdistributiontimestepfunction-nextincrement">func
(*ExponentialDistributionTimestepFunction) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L36-L38">NextIncrement</a></h3>
<div class="sourceCode" id="cb24"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>ExponentialDistributionTimestepFunction<span class="op">)</span> NextIncrement<span class="op">(</span>timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">float64</span></span></code></pre></div>
<p><a name="Implementations"></a></p>
<h2 id="type-implementations">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L60-L66">Implementations</a></h2>
<p>Implementations defines all of the interfaces that must be
implemented in order to configure a simulation defined by the
stochadex.</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Implementations <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    Iterations           <span class="op">[]</span>Iteration</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    OutputCondition      OutputCondition</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    OutputFunction       OutputFunction</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    TerminationCondition TerminationCondition</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     TimestepFunction</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="Iteration"></a></p>
<h2 id="type-iteration">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L8-L16">Iteration</a></h2>
<p>Iteration is the interface that must be implemented for any
partitioned state iteration in the stochadex. Its .Iterate method reads
in the *Params, a int partitionIndex, the full current history of all
partitions defined by a slice []*StateHistory and a
*CumulativeTimestepsHistory reference and outputs an updated state
history row in the form of a float64 slice.</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Iteration <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    Configure<span class="op">(</span>partitionIndex <span class="dt">int</span><span class="op">,</span> settings <span class="op">*</span>Settings<span class="op">)</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    Iterate<span class="op">(</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>        params <span class="op">*</span>Params<span class="op">,</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>        partitionIndex <span class="dt">int</span><span class="op">,</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>        stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">,</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="IterationSettings"></a></p>
<h2 id="type-iterationsettings">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L19-L27">IterationSettings</a></h2>
<p>IterationSettings is the yaml-loadable config which defines the
settings for an iteration which acts on a partition of the the global
simulation state and its upstream partitions which may provide params
for it.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IterationSettings <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    Name               <span class="dt">string</span>                    <span class="st">`yaml:&quot;name&quot;`</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    Params             Params                    <span class="st">`yaml:&quot;params&quot;`</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    ParamsFromUpstream <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span>UpstreamConfig <span class="st">`yaml:&quot;params_from_upstream,omitempty&quot;`</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    InitStateValues    <span class="op">[]</span><span class="dt">float64</span>                 <span class="st">`yaml:&quot;init_state_values&quot;`</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    Seed               <span class="dt">uint64</span>                    <span class="st">`yaml:&quot;seed&quot;`</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    StateWidth         <span class="dt">int</span>                       <span class="st">`yaml:&quot;state_width&quot;`</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth  <span class="dt">int</span>                       <span class="st">`yaml:&quot;state_history_depth&quot;`</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="IterationTestHarness"></a></p>
<h2 id="type-iterationtestharness">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L13-L18">IterationTestHarness</a></h2>
<p>IterationTestHarness wraps an iteration and performs checks on its
behaviour while running.</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IterationTestHarness <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    Iteration Iteration</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    Err       <span class="dt">error</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="IterationTestHarness.Configure"></a></p>
<h3 id="func-iterationtestharness-configure">func
(*IterationTestHarness) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L20-L23">Configure</a></h3>
<div class="sourceCode" id="cb29"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>h <span class="op">*</span>IterationTestHarness<span class="op">)</span> Configure<span class="op">(</span>partitionIndex <span class="dt">int</span><span class="op">,</span> settings <span class="op">*</span>Settings<span class="op">)</span></span></code></pre></div>
<p><a name="IterationTestHarness.Iterate"></a></p>
<h3 id="func-iterationtestharness-iterate">func (*IterationTestHarness)
<a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L34-L39">Iterate</a></h3>
<div class="sourceCode" id="cb30"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>h <span class="op">*</span>IterationTestHarness<span class="op">)</span> Iterate<span class="op">(</span>params <span class="op">*</span>Params<span class="op">,</span> partitionIndex <span class="dt">int</span><span class="op">,</span> stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p><a name="IteratorInputMessage"></a></p>
<h2 id="type-iteratorinputmessage">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L48-L51">IteratorInputMessage</a></h2>
<p>IteratorInputMessage defines the message which is passed from the
PartitionCoordinator to a StateIterator of a given partition when the
former is requesting the latter to perform a job.</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IteratorInputMessage <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    StateHistories   <span class="op">[]*</span>StateHistory</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    TimestepsHistory <span class="op">*</span>CumulativeTimestepsHistory</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="JsonLogChannelOutputFunction"></a></p>
<h2 id="type-jsonlogchanneloutputfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L114-L116">JsonLogChannelOutputFunction</a></h2>
<p>JsonLogChannelOutputFunction outputs data to a log of json packets
from the simulation on the steps where the OutputCondition is met. This
is functionally the same as the JsonLogOutputFunction but runs in its
own thread and receives logs via channel for improved performance.</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> JsonLogChannelOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewJsonLogChannelOutputFunction"></a></p>
<h3 id="func-newjsonlogchanneloutputfunction">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L140-L142">NewJsonLogChannelOutputFunction</a></h3>
<div class="sourceCode" id="cb33"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewJsonLogChannelOutputFunction<span class="op">(</span>filePath <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>JsonLogChannelOutputFunction</span></code></pre></div>
<p>NewJsonLogChannelOutputFunction creates a new
JsonLogChannelOutputFunction. This creates a new channel which can be
deferred to close so that flushing at the end of a run is ensured like
this: f = NewJsonLogChannelOutputFunction(“file.log”); defer
f.Close()</p>
<p><a name="JsonLogChannelOutputFunction.Close"></a></p>
<h3 id="func-jsonlogchanneloutputfunction-close">func
(*JsonLogChannelOutputFunction) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L132">Close</a></h3>
<div class="sourceCode" id="cb34"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>j <span class="op">*</span>JsonLogChannelOutputFunction<span class="op">)</span> Close<span class="op">()</span></span></code></pre></div>
<p>Close ensures that the log channel flushes at the end of a run.</p>
<p><a name="JsonLogChannelOutputFunction.Output"></a></p>
<h3 id="func-jsonlogchanneloutputfunction-output">func
(*JsonLogChannelOutputFunction) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L118-L122">Output</a></h3>
<div class="sourceCode" id="cb35"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>j <span class="op">*</span>JsonLogChannelOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p><a name="JsonLogEntry"></a></p>
<h2 id="type-jsonlogentry">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L59-L63">JsonLogEntry</a></h2>
<p>JsonLogEntry is the format in which the logs are serialised when
using the JsonLogOutputFunction.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> JsonLogEntry <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    PartitionName       <span class="dt">string</span>    <span class="st">`json:&quot;partition_name&quot;`</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    State               <span class="op">[]</span><span class="dt">float64</span> <span class="st">`json:&quot;state&quot;`</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    CumulativeTimesteps <span class="dt">float64</span>   <span class="st">`json:&quot;time&quot;`</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="JsonLogOutputFunction"></a></p>
<h2 id="type-jsonlogoutputfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L67-L70">JsonLogOutputFunction</a></h2>
<p>JsonLogOutputFunction outputs data to a log of json packets from the
simulation on the steps where the OutputCondition is met.</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> JsonLogOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewJsonLogOutputFunction"></a></p>
<h3 id="func-newjsonlogoutputfunction">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L98-L100">NewJsonLogOutputFunction</a></h3>
<div class="sourceCode" id="cb38"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewJsonLogOutputFunction<span class="op">(</span>filePath <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>JsonLogOutputFunction</span></code></pre></div>
<p>NewJsonLogOutputFunction creates a new JsonLogOutputFunction.</p>
<p><a name="JsonLogOutputFunction.Output"></a></p>
<h3 id="func-jsonlogoutputfunction-output">func (*JsonLogOutputFunction)
<a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L72-L76">Output</a></h3>
<div class="sourceCode" id="cb39"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>j <span class="op">*</span>JsonLogOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p><a name="NamedPartitionIndex"></a></p>
<h2 id="type-namedpartitionindex">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L67-L70">NamedPartitionIndex</a></h2>
<p>NamedPartitionIndex pairs the name of a partition with the partition
index assigned to it by the PartitionCoordinator.</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NamedPartitionIndex <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    Name  <span class="dt">string</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    Index <span class="dt">int</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NamedUpstreamConfig"></a></p>
<h2 id="type-namedupstreamconfig">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L71-L74">NamedUpstreamConfig</a></h2>
<p>NamedUpstreamConfig is the yaml-loadable representation of a slice of
data from the output of a partitiion which is computationally upstream.
This version uses a string name for this partition.</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NamedUpstreamConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    Upstream <span class="dt">string</span> <span class="st">`yaml:&quot;upstream&quot;`</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    Indices  <span class="op">[]</span><span class="dt">int</span>  <span class="st">`yaml:&quot;indices,omitempty&quot;`</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NilOutputCondition"></a></p>
<h2 id="type-niloutputcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L237">NilOutputCondition</a></h2>
<p>NilOutputCondition never outputs.</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NilOutputCondition <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
<p><a name="NilOutputCondition.IsOutputStep"></a></p>
<h3 id="func-niloutputcondition-isoutputstep">func (*NilOutputCondition)
<a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L239-L243">IsOutputStep</a></h3>
<div class="sourceCode" id="cb43"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>NilOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
<p><a name="NilOutputFunction"></a></p>
<h2 id="type-niloutputfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L22">NilOutputFunction</a></h2>
<p>NilOutputFunction outputs nothing from the simulation.</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NilOutputFunction <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
<p><a name="NilOutputFunction.Output"></a></p>
<h3 id="func-niloutputfunction-output">func (*NilOutputFunction) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L24-L28">Output</a></h3>
<div class="sourceCode" id="cb45"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>f <span class="op">*</span>NilOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p><a name="NumberOfStepsTerminationCondition"></a></p>
<h2 id="type-numberofstepsterminationcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L14-L16">NumberOfStepsTerminationCondition</a></h2>
<p>NumberOfStepsTerminationCondition terminates the process when the
overall number of steps performed has reached MaxNumberOfSteps.</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NumberOfStepsTerminationCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    MaxNumberOfSteps <span class="dt">int</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NumberOfStepsTerminationCondition.Terminate"></a></p>
<h3 id="func-numberofstepsterminationcondition-terminate">func
(*NumberOfStepsTerminationCondition) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L18-L21">Terminate</a></h3>
<div class="sourceCode" id="cb47"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>NumberOfStepsTerminationCondition<span class="op">)</span> Terminate<span class="op">(</span>stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
<p><a name="OnlyGivenPartitionsOutputCondition"></a></p>
<h2 id="type-onlygivenpartitionsoutputcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L280-L282">OnlyGivenPartitionsOutputCondition</a></h2>
<p>OnlyGivenPartitionsOutputCondition calls the OutputFunction for only
the given partition names.</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> OnlyGivenPartitionsOutputCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    Partitions <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span><span class="dt">bool</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="OnlyGivenPartitionsOutputCondition.IsOutputStep"></a></p>
<h3 id="func-onlygivenpartitionsoutputcondition-isoutputstep">func
(*OnlyGivenPartitionsOutputCondition) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L284-L288">IsOutputStep</a></h3>
<div class="sourceCode" id="cb49"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>o <span class="op">*</span>OnlyGivenPartitionsOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
<p><a name="OutputCondition"></a></p>
<h2 id="type-outputcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L232-L234">OutputCondition</a></h2>
<p>OutputCondition is the interface that must be implemented to define
when the simulation calls the OutputFunction.</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> OutputCondition <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="OutputFunction"></a></p>
<h2 id="type-outputfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L17-L19">OutputFunction</a></h2>
<p>OutputFunction is the interface that must be implemented for any
function which can be used to outputs data from the simulation when the
provided OutputCondition is met.</p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> OutputFunction <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="Params"></a></p>
<h2 id="type-params">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L7-L10">Params</a></h2>
<p>Params is a type alias for the parameters needed to configure the
simulation.</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Params <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    Map <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">][]</span><span class="dt">float64</span> <span class="st">`yaml:&quot;,inline&quot;`</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewParams"></a></p>
<h3 id="func-newparams">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L98">NewParams</a></h3>
<div class="sourceCode" id="cb53"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewParams<span class="op">(</span>params <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">][]</span><span class="dt">float64</span><span class="op">)</span> Params</span></code></pre></div>
<p>NewParams creates a new Params struct.</p>
<p><a name="Params.Get"></a></p>
<h3 id="func-params-get">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L34">Get</a></h3>
<div class="sourceCode" id="cb54"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> Get<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p>Get retrieves the desired parameter values given their name, or
panics giving a useful error message.</p>
<p><a name="Params.GetCopy"></a></p>
<h3 id="func-params-getcopy">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L45">GetCopy</a></h3>
<div class="sourceCode" id="cb55"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetCopy<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p>GetCopy retrieves a copy of the desired parameter values given their
name, or panics giving a useful error message.</p>
<p><a name="Params.GetCopyOk"></a></p>
<h3 id="func-params-getcopyok">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L22">GetCopyOk</a></h3>
<div class="sourceCode" id="cb56"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetCopyOk<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">([]</span><span class="dt">float64</span><span class="op">,</span> <span class="dt">bool</span><span class="op">)</span></span></code></pre></div>
<p>GetCopyOk retrieves a copy of the desired parameter values given
their name, returning the values and a boolean indicating if the name
was found.</p>
<p><a name="Params.GetIndex"></a></p>
<h3 id="func-params-getindex">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L59">GetIndex</a></h3>
<div class="sourceCode" id="cb57"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetIndex<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> index <span class="dt">int</span><span class="op">)</span> <span class="dt">float64</span></span></code></pre></div>
<p>GetIndex retrieves the desired parameter value given the params name
and index of the value itself, or panics giving a useful error
message.</p>
<p><a name="Params.GetOk"></a></p>
<h3 id="func-params-getok">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L14">GetOk</a></h3>
<div class="sourceCode" id="cb58"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetOk<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">([]</span><span class="dt">float64</span><span class="op">,</span> <span class="dt">bool</span><span class="op">)</span></span></code></pre></div>
<p>GetOk retrieves the desired parameter values given their name,
returning the values and a boolean indicating if the name was found.</p>
<p><a name="Params.Set"></a></p>
<h3 id="func-params-set">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L69">Set</a></h3>
<div class="sourceCode" id="cb59"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> Set<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> values <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p>Set creates or updates the desired parameter values given their
name.</p>
<p><a name="Params.SetIndex"></a></p>
<h3 id="func-params-setindex">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L76">SetIndex</a></h3>
<div class="sourceCode" id="cb60"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> SetIndex<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> index <span class="dt">int</span><span class="op">,</span> value <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p>Set creates or updates the desired parameter value given the params
name and index of the value itself, or panics giving a useful error
message.</p>
<p><a name="Params.SetPartitionName"></a></p>
<h3 id="func-params-setpartitionname">func (*Params) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L93">SetPartitionName</a></h3>
<div class="sourceCode" id="cb61"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> SetPartitionName<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span></span></code></pre></div>
<p>SetPartitionName sets the partition name that these params are
associated to, mainly for providing more informative error messages.</p>
<p><a name="PartitionConfig"></a></p>
<h2 id="type-partitionconfig">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L79-L88">PartitionConfig</a></h2>
<p>PartitionConfig defines all of the configuration needed in order to
add a partition to a stochadex simulation. This is mostly yaml-loadable,
however the Iteration implementation needs to be inserted via
templating.</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    Name               <span class="dt">string</span>                         <span class="st">`yaml:&quot;name&quot;`</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    Iteration          Iteration                      <span class="st">`yaml:&quot;-&quot;`</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    Params             Params                         <span class="st">`yaml:&quot;params&quot;`</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    ParamsAsPartitions <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">][]</span><span class="dt">string</span>            <span class="st">`yaml:&quot;params_as_partitions,omitempty&quot;`</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    ParamsFromUpstream <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span>NamedUpstreamConfig <span class="st">`yaml:&quot;params_from_upstream,omitempty&quot;`</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    InitStateValues    <span class="op">[]</span><span class="dt">float64</span>                      <span class="st">`yaml:&quot;init_state_values&quot;`</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth  <span class="dt">int</span>                            <span class="st">`yaml:&quot;state_history_depth&quot;`</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>    Seed               <span class="dt">uint64</span>                         <span class="st">`yaml:&quot;seed&quot;`</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="LoadPartitionConfigFromYaml"></a></p>
<h3 id="func-loadpartitionconfigfromyaml">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/loaders.go#L26">LoadPartitionConfigFromYaml</a></h3>
<div class="sourceCode" id="cb63"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> LoadPartitionConfigFromYaml<span class="op">(</span>path <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>PartitionConfig</span></code></pre></div>
<p>LoadPartitionConfigFromYaml creates a new PartitionConfig struct from
a provided yaml path.</p>
<p><a name="PartitionConfig.Init"></a></p>
<h3 id="func-partitionconfig-init">func (*PartitionConfig) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L93">Init</a></h3>
<div class="sourceCode" id="cb64"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>PartitionConfig<span class="op">)</span> Init<span class="op">()</span></span></code></pre></div>
<p>Init checks to see if any of the param maps have not been populated
and instantiates them if not. This is typically used immediately after
unmarshalling from a yaml config.</p>
<p><a name="PartitionConfigOrdering"></a></p>
<h2 id="type-partitionconfigordering">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L130-L134">PartitionConfigOrdering</a></h2>
<p>PartitionConfigOrdering is a structure which maintains various
representations of the order in which partitions will be indexed in the
simulation. This can be dynamically updated with new partitions using
the .Append method.</p>
<div class="sourceCode" id="cb65"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionConfigOrdering <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    Names        <span class="op">[]</span><span class="dt">string</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    IndexByName  <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span><span class="dt">int</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    ConfigByName <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]*</span>PartitionConfig</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="PartitionConfigOrdering.Append"></a></p>
<h3 id="func-partitionconfigordering-append">func
(*PartitionConfigOrdering) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L138">Append</a></h3>
<div class="sourceCode" id="cb66"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>PartitionConfigOrdering<span class="op">)</span> Append<span class="op">(</span>config <span class="op">*</span>PartitionConfig<span class="op">)</span></span></code></pre></div>
<p>Append puts another partition into the specified ordering that it
will appear in the simulation indexing.</p>
<p><a name="PartitionCoordinator"></a></p>
<h2 id="type-partitioncoordinator">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L12-L18">PartitionCoordinator</a></h2>
<p>PartitionCoordinator coordinates the assignment of iteration work to
separate StateIterator objects on separate goroutines and when to enact
these updates on the state history.</p>
<div class="sourceCode" id="cb67"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionCoordinator <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    Iterators            <span class="op">[]*</span>StateIterator</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    Shared               <span class="op">*</span>IteratorInputMessage</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     TimestepFunction</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    TerminationCondition TerminationCondition</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewPartitionCoordinator"></a></p>
<h3 id="func-newpartitioncoordinator">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L104-L107">NewPartitionCoordinator</a></h3>
<div class="sourceCode" id="cb68"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewPartitionCoordinator<span class="op">(</span>settings <span class="op">*</span>Settings<span class="op">,</span> implementations <span class="op">*</span>Implementations<span class="op">)</span> <span class="op">*</span>PartitionCoordinator</span></code></pre></div>
<p>NewPartitionCoordinator creates a new PartitionCoordinator given a
StochadexConfig.</p>
<p><a name="PartitionCoordinator.ReadyToTerminate"></a></p>
<h3 id="func-partitioncoordinator-readytoterminate">func
(*PartitionCoordinator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L85">ReadyToTerminate</a></h3>
<div class="sourceCode" id="cb69"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> ReadyToTerminate<span class="op">()</span> <span class="dt">bool</span></span></code></pre></div>
<p>ReadyToTerminate returns whether or not the process has met the
TerminationCondition.</p>
<p><a name="PartitionCoordinator.RequestMoreIterations"></a></p>
<h3 id="func-partitioncoordinator-requestmoreiterations">func
(*PartitionCoordinator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L22">RequestMoreIterations</a></h3>
<div class="sourceCode" id="cb70"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> RequestMoreIterations<span class="op">(</span>wg <span class="op">*</span>sync<span class="op">.</span>WaitGroup<span class="op">)</span></span></code></pre></div>
<p>RequestMoreIterations spawns a goroutine for each state partition to
carry out a ReceiveAndIteratePending job.</p>
<p><a name="PartitionCoordinator.Run"></a></p>
<h3 id="func-partitioncoordinator-run">func (*PartitionCoordinator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L93">Run</a></h3>
<div class="sourceCode" id="cb71"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> Run<span class="op">()</span></span></code></pre></div>
<p>Run runs multiple Step calls up until the TerminationCondition has
been met.</p>
<p><a name="PartitionCoordinator.Step"></a></p>
<h3 id="func-partitioncoordinator-step">func (*PartitionCoordinator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L68">Step</a></h3>
<div class="sourceCode" id="cb72"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> Step<span class="op">(</span>wg <span class="op">*</span>sync<span class="op">.</span>WaitGroup<span class="op">)</span></span></code></pre></div>
<p>Step is the main method call of PartitionCoordinator - call this
proceeding a new configuration of the latter to run the desired process
for a single step.</p>
<p><a name="PartitionCoordinator.UpdateHistory"></a></p>
<h3 id="func-partitioncoordinator-updatehistory">func
(*PartitionCoordinator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L40">UpdateHistory</a></h3>
<div class="sourceCode" id="cb73"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> UpdateHistory<span class="op">(</span>wg <span class="op">*</span>sync<span class="op">.</span>WaitGroup<span class="op">)</span></span></code></pre></div>
<p>RequestMoreIterations spawns a goroutine for each state partition to
carry out an UpdateHistory job.</p>
<p><a name="PartitionState"></a></p>
<h2 id="type-partitionstate">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L23-L31">PartitionState</a></h2>
<div class="sourceCode" id="cb74"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionState <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    CumulativeTimesteps <span class="dt">float64</span>   <span class="st">`protobuf:&quot;fixed64,1,opt,name=cumulative_timesteps,json=cumulativeTimesteps,proto3&quot; json:&quot;cumulative_timesteps,omitempty&quot;`</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    PartitionName       <span class="dt">string</span>    <span class="st">`protobuf:&quot;bytes,2,opt,name=partition_name,json=partitionName,proto3&quot; json:&quot;partition_name,omitempty&quot;`</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    State               <span class="op">[]</span><span class="dt">float64</span> <span class="st">`protobuf:&quot;fixed64,3,rep,packed,name=state,proto3&quot; json:&quot;state,omitempty&quot;`</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="PartitionState.Descriptor"></a></p>
<h3 id="func-partitionstate-descriptor">func (*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L61">Descriptor</a></h3>
<div class="sourceCode" id="cb75"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(*</span>PartitionState<span class="op">)</span> Descriptor<span class="op">()</span> <span class="op">([]</span><span class="dt">byte</span><span class="op">,</span> <span class="op">[]</span><span class="dt">int</span><span class="op">)</span></span></code></pre></div>
<p>Deprecated: Use PartitionState.ProtoReflect.Descriptor instead.</p>
<p><a name="PartitionState.GetCumulativeTimesteps"></a></p>
<h3 id="func-partitionstate-getcumulativetimesteps">func
(*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L65">GetCumulativeTimesteps</a></h3>
<div class="sourceCode" id="cb76"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> GetCumulativeTimesteps<span class="op">()</span> <span class="dt">float64</span></span></code></pre></div>
<p><a name="PartitionState.GetPartitionName"></a></p>
<h3 id="func-partitionstate-getpartitionname">func (*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L72">GetPartitionName</a></h3>
<div class="sourceCode" id="cb77"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> GetPartitionName<span class="op">()</span> <span class="dt">string</span></span></code></pre></div>
<p><a name="PartitionState.GetState"></a></p>
<h3 id="func-partitionstate-getstate">func (*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L79">GetState</a></h3>
<div class="sourceCode" id="cb78"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> GetState<span class="op">()</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p><a name="PartitionState.ProtoMessage"></a></p>
<h3 id="func-partitionstate-protomessage">func (*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L46">ProtoMessage</a></h3>
<div class="sourceCode" id="cb79"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(*</span>PartitionState<span class="op">)</span> ProtoMessage<span class="op">()</span></span></code></pre></div>
<p><a name="PartitionState.ProtoReflect"></a></p>
<h3 id="func-partitionstate-protoreflect">func (*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L48">ProtoReflect</a></h3>
<div class="sourceCode" id="cb80"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> ProtoReflect<span class="op">()</span> protoreflect<span class="op">.</span>Message</span></code></pre></div>
<p><a name="PartitionState.Reset"></a></p>
<h3 id="func-partitionstate-reset">func (*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L33">Reset</a></h3>
<div class="sourceCode" id="cb81"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> Reset<span class="op">()</span></span></code></pre></div>
<p><a name="PartitionState.String"></a></p>
<h3 id="func-partitionstate-string">func (*PartitionState) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L42">String</a></h3>
<div class="sourceCode" id="cb82"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> String<span class="op">()</span> <span class="dt">string</span></span></code></pre></div>
<p><a name="Settings"></a></p>
<h2 id="type-settings">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L31-L35">Settings</a></h2>
<p>Settings is the yaml-loadable config which defines all of the
settings that can be set for a simulation defined by the stochadex.</p>
<div class="sourceCode" id="cb83"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Settings <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>    Iterations            <span class="op">[]</span>IterationSettings <span class="st">`yaml:&quot;iterations&quot;`</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>    InitTimeValue         <span class="dt">float64</span>             <span class="st">`yaml:&quot;init_time_value&quot;`</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>    TimestepsHistoryDepth <span class="dt">int</span>                 <span class="st">`yaml:&quot;timesteps_history_depth&quot;`</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="LoadSettingsFromYaml"></a></p>
<h3 id="func-loadsettingsfromyaml">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/loaders.go#L10">LoadSettingsFromYaml</a></h3>
<div class="sourceCode" id="cb84"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> LoadSettingsFromYaml<span class="op">(</span>path <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>Settings</span></code></pre></div>
<p>LoadSettingsFromYaml creates a new Settings struct from a provided
yaml path.</p>
<p><a name="Settings.Init"></a></p>
<h3 id="func-settings-init">func (*Settings) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L40">Init</a></h3>
<div class="sourceCode" id="cb85"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>Settings<span class="op">)</span> Init<span class="op">()</span></span></code></pre></div>
<p>Init checks to see if any of the param maps and iteration names have
not not been populated and instantiates them if not. This is typically
used immediately after unmarshalling from a yaml config.</p>
<p><a name="SimulationConfig"></a></p>
<h2 id="type-simulationconfig">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L107-L113">SimulationConfig</a></h2>
<p>SimulationConfig defines all of the additional configuration needed
in order to setup a stochadex simulation run.</p>
<div class="sourceCode" id="cb86"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> SimulationConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>    OutputCondition      OutputCondition</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    OutputFunction       OutputFunction</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    TerminationCondition TerminationCondition</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     TimestepFunction</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>    InitTimeValue        <span class="dt">float64</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="SimulationConfigStrings"></a></p>
<h2 id="type-simulationconfigstrings">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L119-L125">SimulationConfigStrings</a></h2>
<p>SimulationConfigStrings defines all of the additional configuration
needed in order to setup a stochadex simulation run. This is the
yaml-loadable version of the config which includes string type names to
insert into templating.</p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> SimulationConfigStrings <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    OutputCondition      <span class="dt">string</span>  <span class="st">`yaml:&quot;output_condition&quot;`</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>    OutputFunction       <span class="dt">string</span>  <span class="st">`yaml:&quot;output_function&quot;`</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    TerminationCondition <span class="dt">string</span>  <span class="st">`yaml:&quot;termination_condition&quot;`</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     <span class="dt">string</span>  <span class="st">`yaml:&quot;timestep_function&quot;`</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>    InitTimeValue        <span class="dt">float64</span> <span class="st">`yaml:&quot;init_time_value&quot;`</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="LoadSimulationConfigStringsFromYaml"></a></p>
<h3 id="func-loadsimulationconfigstringsfromyaml">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/loaders.go#L42">LoadSimulationConfigStringsFromYaml</a></h3>
<div class="sourceCode" id="cb88"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> LoadSimulationConfigStringsFromYaml<span class="op">(</span>path <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>SimulationConfigStrings</span></code></pre></div>
<p>LoadSimulationConfigStringsFromYaml creates a new
SimulationConfigStrings struct from a provided yaml path.</p>
<p><a name="StateHistory"></a></p>
<h2 id="type-statehistory">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L9-L17">StateHistory</a></h2>
<p>StateHistory represents the information contained within a windowed
history of []float64 state values.</p>
<div class="sourceCode" id="cb89"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateHistory <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// each row is a different state in the history, by convention,</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// starting with the most recent at index = 0</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    Values <span class="op">*</span>mat<span class="op">.</span>Dense</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// should be of length = StateWidth</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>    NextValues        <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>    StateWidth        <span class="dt">int</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth <span class="dt">int</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="StateHistory.CopyStateRow"></a></p>
<h3 id="func-statehistory-copystaterow">func (*StateHistory) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L20">CopyStateRow</a></h3>
<div class="sourceCode" id="cb90"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateHistory<span class="op">)</span> CopyStateRow<span class="op">(</span>index <span class="dt">int</span><span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p>CopyStateRow copies a row from the state history given the index.</p>
<p><a name="StateHistory.GetNextStateRowToUpdate"></a></p>
<h3 id="func-statehistory-getnextstaterowtoupdate">func (*StateHistory)
<a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L29">GetNextStateRowToUpdate</a></h3>
<div class="sourceCode" id="cb91"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateHistory<span class="op">)</span> GetNextStateRowToUpdate<span class="op">()</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p>GetNextStateRowToUpdate determines whether or not it is necessary to
copy the previous row or simply expose it based on whether a history
longer than 1 is needed.</p>
<p><a name="StateIterator"></a></p>
<h2 id="type-stateiterator">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L74-L81">StateIterator</a></h2>
<p>StateIterator handles iterations of a given state partition on a
separate goroutine and reads/writes data from/to the state history.</p>
<div class="sourceCode" id="cb92"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateIterator <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>    Iteration       Iteration</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>    Params          Params</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>    Partition       NamedPartitionIndex</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>    ValueChannels   StateValueChannels</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>    OutputCondition OutputCondition</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>    OutputFunction  OutputFunction</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewStateIterator"></a></p>
<h3 id="func-newstateiterator">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L141-L151">NewStateIterator</a></h3>
<div class="sourceCode" id="cb93"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewStateIterator<span class="op">(</span>iteration Iteration<span class="op">,</span> params Params<span class="op">,</span> partitionName <span class="dt">string</span><span class="op">,</span> partitionIndex <span class="dt">int</span><span class="op">,</span> valueChannels StateValueChannels<span class="op">,</span> outputCondition OutputCondition<span class="op">,</span> outputFunction OutputFunction<span class="op">,</span> initState <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> initTime <span class="dt">float64</span><span class="op">)</span> <span class="op">*</span>StateIterator</span></code></pre></div>
<p>NewStateIterator creates a new StateIterator, potentially also
calling the output function if the condition is met by the initial state
and time.</p>
<p><a name="StateIterator.Iterate"></a></p>
<h3 id="func-stateiterator-iterate">func (*StateIterator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L85-L88">Iterate</a></h3>
<div class="sourceCode" id="cb94"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateIterator<span class="op">)</span> Iterate<span class="op">(</span>stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p>Iterate takes the state and timesteps history and outputs an updated
State struct using an implemented Iteration interface.</p>
<p><a name="StateIterator.ReceiveAndIteratePending"></a></p>
<h3 id="func-stateiterator-receiveanditeratepending">func
(*StateIterator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L107-L109">ReceiveAndIteratePending</a></h3>
<div class="sourceCode" id="cb95"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateIterator<span class="op">)</span> ReceiveAndIteratePending<span class="op">(</span>inputChannel <span class="op">&lt;-</span><span class="kw">chan</span> <span class="op">*</span>IteratorInputMessage<span class="op">)</span></span></code></pre></div>
<p>ReceiveAndIteratePending listens for input messages sent to the input
channel, runs Iterate when an IteratorInputMessage has been received on
the provided inputChannel and then updates an internal pending state
update object.</p>
<p><a name="StateIterator.UpdateHistory"></a></p>
<h3 id="func-stateiterator-updatehistory">func (*StateIterator) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L126">UpdateHistory</a></h3>
<div class="sourceCode" id="cb96"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateIterator<span class="op">)</span> UpdateHistory<span class="op">(</span>inputChannel <span class="op">&lt;-</span><span class="kw">chan</span> <span class="op">*</span>IteratorInputMessage<span class="op">)</span></span></code></pre></div>
<p>UpdateHistory should always follow a call to ReceiveAndIteratePending
as it enacts the internal pending state update on the StateHistory
object passed over the provided inputChannel.</p>
<p><a name="StateTimeStorage"></a></p>
<h2 id="type-statetimestorage">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L12-L17">StateTimeStorage</a></h2>
<p>StateTimeStorage dynamically adapts its structure to support incoming
time series data from the simulation output in a thread-safe manner.
This is done in a way to minimise write blocking for better performance
in a concurrent program.</p>
<div class="sourceCode" id="cb97"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateTimeStorage <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewStateTimeStorage"></a></p>
<h3 id="func-newstatetimestorage">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L103">NewStateTimeStorage</a></h3>
<div class="sourceCode" id="cb98"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewStateTimeStorage<span class="op">()</span> <span class="op">*</span>StateTimeStorage</span></code></pre></div>
<p>NewStateTimeStorage creates a new StateTimeStorage.</p>
<p><a name="StateTimeStorage.ConcurrentAppend"></a></p>
<h3 id="func-statetimestorage-concurrentappend">func (*StateTimeStorage)
<a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L72-L76">ConcurrentAppend</a></h3>
<div class="sourceCode" id="cb99"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> ConcurrentAppend<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> time <span class="dt">float64</span><span class="op">,</span> values <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p>ConcurrentAppend adds another set of values to the time series data
keyed by the provided name. This method also handles dynamic extension
of the size of the store in response to the inputs, and can safely
handle concurrent calls within the same program.</p>
<p><a name="StateTimeStorage.GetIndex"></a></p>
<h3 id="func-statetimestorage-getindex">func (*StateTimeStorage) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L21">GetIndex</a></h3>
<div class="sourceCode" id="cb100"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetIndex<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="dt">int</span></span></code></pre></div>
<p>GetIndex retrieves the index for provided a key name. This will make
a new index if the name doesn’t yet exist in the store.</p>
<p><a name="StateTimeStorage.GetNames"></a></p>
<h3 id="func-statetimestorage-getnames">func (*StateTimeStorage) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L33">GetNames</a></h3>
<div class="sourceCode" id="cb101"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetNames<span class="op">()</span> <span class="op">[]</span><span class="dt">string</span></span></code></pre></div>
<p>GetNames retrieves all the names in the store to key each time
series.</p>
<p><a name="StateTimeStorage.GetTimes"></a></p>
<h3 id="func-statetimestorage-gettimes">func (*StateTimeStorage) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L59">GetTimes</a></h3>
<div class="sourceCode" id="cb102"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetTimes<span class="op">()</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
<p>GetTimes retrieves all the time values.</p>
<p><a name="StateTimeStorage.GetValues"></a></p>
<h3 id="func-statetimestorage-getvalues">func (*StateTimeStorage) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L43">GetValues</a></h3>
<div class="sourceCode" id="cb103"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetValues<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">[][]</span><span class="dt">float64</span></span></code></pre></div>
<p>GetValues retrieves all the time series values keyed by the name.
This method will panic if the name doesn’t exist in the store.</p>
<p><a name="StateTimeStorage.SetTimes"></a></p>
<h3 id="func-statetimestorage-settimes">func (*StateTimeStorage) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L64">SetTimes</a></h3>
<div class="sourceCode" id="cb104"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> SetTimes<span class="op">(</span>times <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p>SetTimes sets all the time values.</p>
<p><a name="StateTimeStorage.SetValues"></a></p>
<h3 id="func-statetimestorage-setvalues">func (*StateTimeStorage) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L54">SetValues</a></h3>
<div class="sourceCode" id="cb105"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> SetValues<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> values <span class="op">[][]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p>SetValues sets all the time series values keyed by the name.</p>
<p><a name="StateTimeStorageOutputFunction"></a></p>
<h2 id="type-statetimestorageoutputfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L45-L47">StateTimeStorageOutputFunction</a></h2>
<p>StateTimeStorageOutputFunction stores the data from the simulation in
the provided StateTimeStorage on the steps when the OutputCondition is
met.</p>
<div class="sourceCode" id="cb106"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateTimeStorageOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>    Store <span class="op">*</span>StateTimeStorage</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="StateTimeStorageOutputFunction.Output"></a></p>
<h3 id="func-statetimestorageoutputfunction-output">func
(*StateTimeStorageOutputFunction) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L49-L53">Output</a></h3>
<div class="sourceCode" id="cb107"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>f <span class="op">*</span>StateTimeStorageOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p><a name="StateValueChannels"></a></p>
<h2 id="type-statevaluechannels">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L35-L38">StateValueChannels</a></h2>
<p>StateValueChannels defines the methods by which separate
StateIterators can communicate with each other by sending the values of
upstream iterators to downstream parameters via channels.</p>
<div class="sourceCode" id="cb108"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateValueChannels <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>    Upstreams  <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]*</span>UpstreamStateValues</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>    Downstream <span class="op">*</span>DownstreamStateValues</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="StateValueChannels.BroadcastDownstream"></a></p>
<h3 id="func-statevaluechannels-broadcastdownstream">func
(*StateValueChannels) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L59">BroadcastDownstream</a></h3>
<div class="sourceCode" id="cb109"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateValueChannels<span class="op">)</span> BroadcastDownstream<span class="op">(</span>stateValues <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p>BroadcastDownstream broadcasts the computationally-upstream state
values to its configured number of downstreams on the relevant
channel.</p>
<p><a name="StateValueChannels.UpdateUpstreamParams"></a></p>
<h3 id="func-statevaluechannels-updateupstreamparams">func
(*StateValueChannels) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L42">UpdateUpstreamParams</a></h3>
<div class="sourceCode" id="cb110"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateValueChannels<span class="op">)</span> UpdateUpstreamParams<span class="op">(</span>params <span class="op">*</span>Params<span class="op">)</span></span></code></pre></div>
<p>UpdateUpstreamParams updates the provided params with the state
values which have been provided computationally upstream via
channels.</p>
<p><a name="StdoutOutputFunction"></a></p>
<h2 id="type-stdoutoutputfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L32">StdoutOutputFunction</a></h2>
<p>StdoutOutputFunction outputs the state to the terminal.</p>
<div class="sourceCode" id="cb111"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StdoutOutputFunction <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
<p><a name="StdoutOutputFunction.Output"></a></p>
<h3 id="func-stdoutoutputfunction-output">func (*StdoutOutputFunction)
<a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L34-L38">Output</a></h3>
<div class="sourceCode" id="cb112"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StdoutOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p><a name="TerminationCondition"></a></p>
<h2 id="type-terminationcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L5-L10">TerminationCondition</a></h2>
<p>TerminationCondition is the interface that must be implemented in
order to create a new condition for ending the simulation.</p>
<div class="sourceCode" id="cb113"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> TerminationCondition <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>    Terminate<span class="op">(</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>        stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>        timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">,</span></span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="dt">bool</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="TimeElapsedTerminationCondition"></a></p>
<h2 id="type-timeelapsedterminationcondition">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L27-L29">TimeElapsedTerminationCondition</a></h2>
<p>TimeElapsedTerminationCondition terminates the process when the
overall time elapsed has reached MaxTimeElapsed.</p>
<div class="sourceCode" id="cb114"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> TimeElapsedTerminationCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>    MaxTimeElapsed <span class="dt">float64</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="TimeElapsedTerminationCondition.Terminate"></a></p>
<h3 id="func-timeelapsedterminationcondition-terminate">func
(*TimeElapsedTerminationCondition) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L31-L34">Terminate</a></h3>
<div class="sourceCode" id="cb115"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>TimeElapsedTerminationCondition<span class="op">)</span> Terminate<span class="op">(</span>stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
<p><a name="TimestepFunction"></a></p>
<h2 id="type-timestepfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L11-L15">TimestepFunction</a></h2>
<p>TimestepFunction is the interface that must be implemented for a
function which evaluates the next increment to the time variable of the
simulation.</p>
<div class="sourceCode" id="cb116"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> TimestepFunction <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>    NextIncrement<span class="op">(</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>        timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">,</span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="dt">float64</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="UpstreamConfig"></a></p>
<h2 id="type-upstreamconfig">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L11-L14">UpstreamConfig</a></h2>
<p>UpstreamConfig is the yaml-loadable representation of a slice of data
from the output of a partitiion which is computationally upstream.</p>
<div class="sourceCode" id="cb117"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> UpstreamConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>    Upstream <span class="dt">int</span>   <span class="st">`yaml:&quot;upstream&quot;`</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>    Indices  <span class="op">[]</span><span class="dt">int</span> <span class="st">`yaml:&quot;indices,omitempty&quot;`</span></span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="UpstreamStateValues"></a></p>
<h2 id="type-upstreamstatevalues">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L20-L23">UpstreamStateValues</a></h2>
<p>UpstreamStateValues contains the information needed to receive state
values from a computationally-upstream StateIterator.</p>
<div class="sourceCode" id="cb118"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> UpstreamStateValues <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>    Channel <span class="kw">chan</span> <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>    Indices <span class="op">[]</span><span class="dt">int</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="WebsocketOutputFunction"></a></p>
<h2 id="type-websocketoutputfunction">type <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L179-L182">WebsocketOutputFunction</a></h2>
<p>WebsocketOutputFunction serialises the state of each partition of the
simulation and sends this data via a websocket connection on the steps
when the OutputCondition is met.</p>
<div class="sourceCode" id="cb119"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> WebsocketOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><a name="NewWebsocketOutputFunction"></a></p>
<h3 id="func-newwebsocketoutputfunction">func <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L223-L226">NewWebsocketOutputFunction</a></h3>
<div class="sourceCode" id="cb120"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewWebsocketOutputFunction<span class="op">(</span>connection <span class="op">*</span>websocket<span class="op">.</span>Conn<span class="op">,</span> mutex <span class="op">*</span>sync<span class="op">.</span>Mutex<span class="op">)</span> <span class="op">*</span>WebsocketOutputFunction</span></code></pre></div>
<p>NewWebsocketOutputFunction creates a new WebsocketOutputFunction
given a connection struct and mutex to protect concurrent writes to the
connection.</p>
<p><a name="WebsocketOutputFunction.Output"></a></p>
<h3 id="func-websocketoutputfunction-output">func
(*WebsocketOutputFunction) <a
href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L184-L188">Output</a></h3>
<div class="sourceCode" id="cb121"><pre
class="sourceCode go"><code class="sourceCode go"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>w <span class="op">*</span>WebsocketOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
<p>Generated by <a
href="https://github.com/princjef/gomarkdoc">gomarkdoc</a></p>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</article>
</html>