<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="description" content="Stochadex - A simulation engine for real-world systems" />
  <meta name="keywords" content="simulation, go, stochastic, modeling, data analysis" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Prism.js for syntax highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-vs.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-shell-session.min.js"></script>
  
  <!-- Custom CSS -->
  <style>
    :root {
      --primary-color: #2563eb;
      --primary-hover: #1d4ed8;
      --secondary-color: #64748b;
      --accent-color: #f59e0b;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --text-muted: #94a3b8;
      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --border-color: #e2e8f0;
      --border-hover: #cbd5e1;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --radius-sm: 0.375rem;
      --radius-md: 0.5rem;
      --radius-lg: 0.75rem;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: var(--text-primary);
      background-color: var(--bg-primary);
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      background-color: var(--bg-secondary);
      border-right: 1px solid var(--border-color);
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      z-index: 1000;
      transition: transform 0.3s ease;
    }

    .sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--border-color);
      background-color: var(--bg-primary);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: var(--text-primary);
    }

    .logo img {
      width: 120px;
      height: auto;
    }


    .nav-section {
      margin-bottom: 1rem;
    }

    .nav-section-title {
      padding: 0.5rem 1.5rem;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      background-color: var(--bg-tertiary);
    }

    .nav-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .nav-links li {
      margin: 0;
    }

    .nav-links a {
      display: block;
      padding: 0.5rem 1.5rem;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.875rem;
      transition: all 0.2s ease;
      border-left: 3px solid transparent;
    }

    .nav-links a:hover {
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
      border-left-color: var(--primary-color);
    }

    .nav-links a.active {
      background-color: var(--bg-primary);
      color: var(--primary-color);
      border-left-color: var(--primary-color);
      font-weight: 500;
    }

    /* Main content */
    .main-content {
      flex: 1;
      margin-left: 280px;
      min-height: 100vh;
    }


    .content-body {
      padding: 2rem;
      max-width: 800px;
    }

    /* Typography */
    h1, h2, h3, h4, h5, h6 {
      color: var(--text-primary);
      font-weight: 600;
      margin-top: 2rem;
      margin-bottom: 1rem;
      line-height: 1.3;
    }

    h1 {
      font-size: 2.5rem;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0.5rem;
    }

    h2 {
      font-size: 2rem;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 0.25rem;
    }

    h3 {
      font-size: 1.5rem;
    }

    h4 {
      font-size: 1.25rem;
    }

    h5, h6 {
      font-size: 1.125rem;
    }

    p {
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    a {
      color: var(--primary-color);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    a:hover {
      color: var(--primary-hover);
      text-decoration: underline;
    }

    /* Code blocks */
    pre {
      background-color: #1e1e1e;
      color: #d4d4d4;
      padding: 1.5rem;
      border-radius: var(--radius-md);
      overflow-x: auto;
      margin: 1.5rem 0;
      font-size: 0.875rem;
      line-height: 1.5;
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow-sm);
    }

    code {
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
      padding: 0.125rem 0.375rem;
      border-radius: var(--radius-sm);
      font-size: 0.875rem;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Courier New', monospace;
    }

    pre code {
      background-color: transparent;
      color: inherit;
      padding: 0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Courier New', monospace;
    }

    /* Go-specific syntax highlighting improvements */
    pre[class*="language-go"] {
      background-color: #1e1e1e;
    }

    /* Shell/Bash-specific syntax highlighting */
    pre[class*="language-bash"],
    pre[class*="language-shell"],
    pre[class*="language-sh"] {
      background-color: #1e1e1e;
    }

    /* Shell session highlighting */
    pre[class*="language-shell-session"] {
      background-color: #1e1e1e;
    }

    /* Enhanced Go syntax highlighting - Pandoc/Pygments classes */
    .kw {
      color: #569cd6;
      font-weight: 500;
    }

    .st {
      color: #ce9178;
    }

    .co {
      color: #6a9955;
      font-style: italic;
    }

    .cf {
      color: #dcdcaa;
      font-weight: 500;
    }

    .dt {
      color: #4ec9b0;
    }

    .op {
      color: #d4d4d4;
    }

    .ot {
      color: #d4d4d4;
    }

    .fl {
      color: #b5cea8;
    }

    .dv {
      color: #b5cea8;
    }

    .ch {
      color: #ce9178;
    }

    .bu {
      color: #dcdcaa;
    }

    /* Shell/Bash syntax highlighting - Pandoc/Pygments classes */
    .sh {
      color: #d4d4d4; /* Default shell text */
    }

    .sh .kw {
      color: #569cd6; /* Shell keywords like if, for, while */
      font-weight: 500;
    }

    .sh .st {
      color: #ce9178; /* Strings in shell */
    }

    .sh .co {
      color: #6a9955; /* Comments in shell */
      font-style: italic;
    }

    .sh .op {
      color: #d4d4d4; /* Operators like |, >, < */
    }

    .sh .va {
      color: #9cdcfe; /* Variables like HOME, PATH */
    }

    .sh .fu {
      color: #dcdcaa; /* Functions */
    }

    /* Shell session specific styling */
    .sh .prompt {
      color: #4ec9b0; /* Shell prompt like dollar, hash */
    }

    /* Prism.js fallback classes */
    .token.keyword {
      color: #569cd6;
      font-weight: 500;
    }

    .token.string {
      color: #ce9178;
    }

    .token.comment {
      color: #6a9955;
      font-style: italic;
    }

    .token.function {
      color: #dcdcaa;
    }

    .token.type {
      color: #4ec9b0;
    }

    .token.operator {
      color: #d4d4d4;
    }

    .token.punctuation {
      color: #d4d4d4;
    }

    .token.number {
      color: #b5cea8;
    }

    /* Prism.js shell/bash token classes */
    .token.function {
      color: #dcdcaa;
    }

    .token.variable {
      color: #9cdcfe;
    }

    .token.parameter {
      color: #9cdcfe;
    }

    .token.prompt {
      color: #4ec9b0;
    }

    .token.command {
      color: #dcdcaa;
    }

    /* Lists */
    ul, ol {
      margin-bottom: 1rem;
      padding-left: 1.5rem;
    }

    li {
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      background-color: var(--bg-primary);
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }

    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    th {
      background-color: var(--bg-secondary);
      font-weight: 600;
      color: var(--text-primary);
    }

    /* Blockquotes */
    blockquote {
      border-left: 4px solid var(--primary-color);
      padding-left: 1rem;
      margin: 1.5rem 0;
      color: var(--text-secondary);
      font-style: italic;
    }

    /* Images */
    img {
      max-width: 100%;
      height: auto;
      border-radius: var(--radius-md);
    }

    .centered {
      text-align: center;
    }

    .badges {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .badges img {
      height: 22px;
      width: auto;
    }

    /* Mobile menu toggle */
    .mobile-menu-toggle {
      display: none;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 1001;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      padding: 0.5rem;
      cursor: pointer;
      box-shadow: var(--shadow-md);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
      }

      .sidebar.open {
        transform: translateX(0);
      }

      .main-content {
        margin-left: 0;
      }

      .mobile-menu-toggle {
        display: block;
      }


      .content-body {
        padding: 1rem;
      }


      h1 {
        font-size: 2rem;
      }

      h2 {
        font-size: 1.5rem;
      }
    }

    /* Theme toggle */
    .theme-toggle {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 50%;
      width: 3rem;
      height: 3rem;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      transition: all 0.2s ease;
      z-index: 1000;
    }

    .theme-toggle:hover {
      background-color: var(--primary-hover);
      transform: scale(1.1);
    }

    /* Print styles */
    @media print {
      .sidebar,
      .mobile-menu-toggle,
      .theme-toggle {
        display: none;
      }

      .main-content {
        margin-left: 0;
      }

    }
  </style>

    
    
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
  <!-- Mobile menu toggle -->
  <button class="mobile-menu-toggle" onclick="toggleSidebar()">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </button>

  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="../index.html" class="logo">
        <img src="../assets/logo.svg" alt="Stochadex Logo">
      </a>
    </div>

    <div class="nav-section">
      <div class="nav-section-title">Getting Started</div>
      <ul class="nav-links">
        <li><a href="../index.html">Home</a></li>
        <li><a href="../quickstart.html">Quickstart</a></li>
      </ul>
    </div>

    <div class="nav-section">
      <div class="nav-section-title">API Reference</div>
      <ul class="nav-links">
        <li><a href="../pkg/analysis.html">Analysis</a></li>
        <li><a href="../pkg/api.html">API</a></li>
        <li><a href="../pkg/continuous.html">Continuous</a></li>
        <li><a href="../pkg/discrete.html">Discrete</a></li>
        <li><a href="../pkg/general.html">General</a></li>
        <li><a href="../pkg/inference.html">Inference</a></li>
        <li><a href="../pkg/kernels.html">Kernels</a></li>
        <li><a href="../pkg/keyboard.html">Keyboard</a></li>
        <li><a href="../pkg/simulator.html">Simulator</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main content -->
  <main class="main-content">
    <div class="content-body">
      <!-- Code generated by gomarkdoc. DO NOT EDIT -->
      <h1 id="simulator">simulator</h1>
      <div class="sourceCode" id="cb1"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="st">&quot;github.com/umbralcalc/stochadex/pkg/simulator&quot;</span></span></code></pre></div>
      <p>Package simulator provides the core simulation engine and
      infrastructure for stochadex simulations. It includes the main
      simulation loop, state management, partition coordination, and
      execution control mechanisms.</p>
      <p>Key Features:</p>
      <ul>
      <li>Partition-based simulation architecture</li>
      <li>Concurrent execution with goroutine coordination</li>
      <li>State history management and time tracking</li>
      <li>Configurable termination and output conditions</li>
      <li>Flexible timestep control</li>
      <li>Storage and persistence utilities</li>
      </ul>
      <p>Architecture: The simulator uses a partition-based approach
      where simulations are divided into independent partitions that can
      be executed concurrently. Each partition maintains its own state
      history and can communicate with other partitions through defined
      interfaces.</p>
      <p>Usage Patterns:</p>
      <ul>
      <li>Configure and run complex multi-partition simulations</li>
      <li>Manage simulation state across multiple timesteps</li>
      <li>Coordinate concurrent execution of simulation components</li>
      <li>Store and retrieve simulation results and intermediate
      states</li>
      <li>Implement custom termination and output conditions</li>
      </ul>
      <h2 id="index">Index</h2>
      <ul>
      <li><a href="#variables">Variables</a></li>
      <li><a href="#RunWithHarnesses">func RunWithHarnesses(settings
      *Settings, implementations *Implementations) error</a></li>
      <li><a href="#ConfigGenerator">type ConfigGenerator</a>
      <ul>
      <li><a href="#NewConfigGenerator">func NewConfigGenerator()
      *ConfigGenerator</a></li>
      <li><a href="#ConfigGenerator.GenerateConfigs">func (c
      *ConfigGenerator) GenerateConfigs() (*Settings,
      *Implementations)</a></li>
      <li><a href="#ConfigGenerator.GetGlobalSeed">func (c
      *ConfigGenerator) GetGlobalSeed() uint64</a></li>
      <li><a href="#ConfigGenerator.GetPartition">func (c
      *ConfigGenerator) GetPartition(name string)
      *PartitionConfig</a></li>
      <li><a href="#ConfigGenerator.GetSimulation">func (c
      *ConfigGenerator) GetSimulation() *SimulationConfig</a></li>
      <li><a href="#ConfigGenerator.ResetPartition">func (c
      *ConfigGenerator) ResetPartition(name string, config
      *PartitionConfig)</a></li>
      <li><a href="#ConfigGenerator.SetGlobalSeed">func (c
      *ConfigGenerator) SetGlobalSeed(seed uint64)</a></li>
      <li><a href="#ConfigGenerator.SetPartition">func (c
      *ConfigGenerator) SetPartition(config *PartitionConfig)</a></li>
      <li><a href="#ConfigGenerator.SetSimulation">func (c
      *ConfigGenerator) SetSimulation(config *SimulationConfig)</a></li>
      </ul></li>
      <li><a href="#ConstantTimestepFunction">type
      ConstantTimestepFunction</a>
      <ul>
      <li><a href="#ConstantTimestepFunction.NextIncrement">func (t
      *ConstantTimestepFunction) NextIncrement(timestepsHistory
      *CumulativeTimestepsHistory) float64</a></li>
      </ul></li>
      <li><a href="#CumulativeTimestepsHistory">type
      CumulativeTimestepsHistory</a></li>
      <li><a href="#DownstreamStateValues">type
      DownstreamStateValues</a></li>
      <li><a href="#EveryNStepsOutputCondition">type
      EveryNStepsOutputCondition</a>
      <ul>
      <li><a href="#EveryNStepsOutputCondition.IsOutputStep">func (c
      *EveryNStepsOutputCondition) IsOutputStep(partitionName string,
      state []float64, cumulativeTimesteps float64) bool</a></li>
      </ul></li>
      <li><a href="#EveryStepOutputCondition">type
      EveryStepOutputCondition</a>
      <ul>
      <li><a href="#EveryStepOutputCondition.IsOutputStep">func (c
      *EveryStepOutputCondition) IsOutputStep(partitionName string,
      state []float64, cumulativeTimesteps float64) bool</a></li>
      </ul></li>
      <li><a href="#ExponentialDistributionTimestepFunction">type
      ExponentialDistributionTimestepFunction</a>
      <ul>
      <li><a href="#NewExponentialDistributionTimestepFunction">func
      NewExponentialDistributionTimestepFunction(mean float64, seed
      uint64) *ExponentialDistributionTimestepFunction</a></li>
      <li><a
      href="#ExponentialDistributionTimestepFunction.NextIncrement">func
      (t *ExponentialDistributionTimestepFunction)
      NextIncrement(timestepsHistory *CumulativeTimestepsHistory)
      float64</a></li>
      </ul></li>
      <li><a href="#Implementations">type Implementations</a></li>
      <li><a href="#Iteration">type Iteration</a></li>
      <li><a href="#IterationSettings">type IterationSettings</a></li>
      <li><a href="#IterationTestHarness">type IterationTestHarness</a>
      <ul>
      <li><a href="#IterationTestHarness.Configure">func (h
      *IterationTestHarness) Configure(partitionIndex int, settings
      *Settings)</a></li>
      <li><a href="#IterationTestHarness.Iterate">func (h
      *IterationTestHarness) Iterate(params *Params, partitionIndex int,
      stateHistories []*StateHistory, timestepsHistory
      *CumulativeTimestepsHistory) []float64</a></li>
      </ul></li>
      <li><a href="#IteratorInputMessage">type
      IteratorInputMessage</a></li>
      <li><a href="#JsonLogChannelOutputFunction">type
      JsonLogChannelOutputFunction</a>
      <ul>
      <li><a href="#NewJsonLogChannelOutputFunction">func
      NewJsonLogChannelOutputFunction(filePath string)
      *JsonLogChannelOutputFunction</a></li>
      <li><a href="#JsonLogChannelOutputFunction.Close">func (j
      *JsonLogChannelOutputFunction) Close()</a></li>
      <li><a href="#JsonLogChannelOutputFunction.Output">func (j
      *JsonLogChannelOutputFunction) Output(partitionName string, state
      []float64, cumulativeTimesteps float64)</a></li>
      </ul></li>
      <li><a href="#JsonLogEntry">type JsonLogEntry</a></li>
      <li><a href="#JsonLogOutputFunction">type
      JsonLogOutputFunction</a>
      <ul>
      <li><a href="#NewJsonLogOutputFunction">func
      NewJsonLogOutputFunction(filePath string)
      *JsonLogOutputFunction</a></li>
      <li><a href="#JsonLogOutputFunction.Output">func (j
      *JsonLogOutputFunction) Output(partitionName string, state
      []float64, cumulativeTimesteps float64)</a></li>
      </ul></li>
      <li><a href="#NamedPartitionIndex">type
      NamedPartitionIndex</a></li>
      <li><a href="#NamedUpstreamConfig">type
      NamedUpstreamConfig</a></li>
      <li><a href="#NilOutputCondition">type NilOutputCondition</a>
      <ul>
      <li><a href="#NilOutputCondition.IsOutputStep">func (c
      *NilOutputCondition) IsOutputStep(partitionName string, state
      []float64, cumulativeTimesteps float64) bool</a></li>
      </ul></li>
      <li><a href="#NilOutputFunction">type NilOutputFunction</a>
      <ul>
      <li><a href="#NilOutputFunction.Output">func (f
      *NilOutputFunction) Output(partitionName string, state []float64,
      cumulativeTimesteps float64)</a></li>
      </ul></li>
      <li><a href="#NumberOfStepsTerminationCondition">type
      NumberOfStepsTerminationCondition</a>
      <ul>
      <li><a href="#NumberOfStepsTerminationCondition.Terminate">func (t
      *NumberOfStepsTerminationCondition) Terminate(stateHistories
      []*StateHistory, timestepsHistory *CumulativeTimestepsHistory)
      bool</a></li>
      </ul></li>
      <li><a href="#OnlyGivenPartitionsOutputCondition">type
      OnlyGivenPartitionsOutputCondition</a>
      <ul>
      <li><a
      href="#OnlyGivenPartitionsOutputCondition.IsOutputStep">func (o
      *OnlyGivenPartitionsOutputCondition) IsOutputStep(partitionName
      string, state []float64, cumulativeTimesteps float64)
      bool</a></li>
      </ul></li>
      <li><a href="#OutputCondition">type OutputCondition</a></li>
      <li><a href="#OutputFunction">type OutputFunction</a></li>
      <li><a href="#Params">type Params</a>
      <ul>
      <li><a href="#NewParams">func NewParams(params
      map[string][]float64) Params</a></li>
      <li><a href="#Params.Get">func (p *Params) Get(name string)
      []float64</a></li>
      <li><a href="#Params.GetCopy">func (p *Params) GetCopy(name
      string) []float64</a></li>
      <li><a href="#Params.GetCopyOk">func (p *Params) GetCopyOk(name
      string) ([]float64, bool)</a></li>
      <li><a href="#Params.GetIndex">func (p *Params) GetIndex(name
      string, index int) float64</a></li>
      <li><a href="#Params.GetOk">func (p *Params) GetOk(name string)
      ([]float64, bool)</a></li>
      <li><a href="#Params.Set">func (p *Params) Set(name string, values
      []float64)</a></li>
      <li><a href="#Params.SetIndex">func (p *Params) SetIndex(name
      string, index int, value float64)</a></li>
      <li><a href="#Params.SetPartitionName">func (p *Params)
      SetPartitionName(name string)</a></li>
      </ul></li>
      <li><a href="#PartitionConfig">type PartitionConfig</a>
      <ul>
      <li><a href="#LoadPartitionConfigFromYaml">func
      LoadPartitionConfigFromYaml(path string) *PartitionConfig</a></li>
      <li><a href="#PartitionConfig.Init">func (p *PartitionConfig)
      Init()</a></li>
      </ul></li>
      <li><a href="#PartitionConfigOrdering">type
      PartitionConfigOrdering</a>
      <ul>
      <li><a href="#PartitionConfigOrdering.Append">func (p
      *PartitionConfigOrdering) Append(config *PartitionConfig)</a></li>
      </ul></li>
      <li><a href="#PartitionCoordinator">type PartitionCoordinator</a>
      <ul>
      <li><a href="#NewPartitionCoordinator">func
      NewPartitionCoordinator(settings *Settings, implementations
      *Implementations) *PartitionCoordinator</a></li>
      <li><a href="#PartitionCoordinator.ReadyToTerminate">func (c
      *PartitionCoordinator) ReadyToTerminate() bool</a></li>
      <li><a href="#PartitionCoordinator.RequestMoreIterations">func (c
      *PartitionCoordinator) RequestMoreIterations(wg
      *sync.WaitGroup)</a></li>
      <li><a href="#PartitionCoordinator.Run">func (c
      *PartitionCoordinator) Run()</a></li>
      <li><a href="#PartitionCoordinator.Step">func (c
      *PartitionCoordinator) Step(wg *sync.WaitGroup)</a></li>
      <li><a href="#PartitionCoordinator.UpdateHistory">func (c
      *PartitionCoordinator) UpdateHistory(wg *sync.WaitGroup)</a></li>
      </ul></li>
      <li><a href="#PartitionState">type PartitionState</a>
      <ul>
      <li><a href="#PartitionState.Descriptor">func (*PartitionState)
      Descriptor() ([]byte, []int)</a></li>
      <li><a href="#PartitionState.GetCumulativeTimesteps">func (x
      *PartitionState) GetCumulativeTimesteps() float64</a></li>
      <li><a href="#PartitionState.GetPartitionName">func (x
      *PartitionState) GetPartitionName() string</a></li>
      <li><a href="#PartitionState.GetState">func (x *PartitionState)
      GetState() []float64</a></li>
      <li><a href="#PartitionState.ProtoMessage">func (*PartitionState)
      ProtoMessage()</a></li>
      <li><a href="#PartitionState.ProtoReflect">func (x
      *PartitionState) ProtoReflect() protoreflect.Message</a></li>
      <li><a href="#PartitionState.Reset">func (x *PartitionState)
      Reset()</a></li>
      <li><a href="#PartitionState.String">func (x *PartitionState)
      String() string</a></li>
      </ul></li>
      <li><a href="#Settings">type Settings</a>
      <ul>
      <li><a href="#LoadSettingsFromYaml">func LoadSettingsFromYaml(path
      string) *Settings</a></li>
      <li><a href="#Settings.Init">func (s *Settings) Init()</a></li>
      </ul></li>
      <li><a href="#SimulationConfig">type SimulationConfig</a></li>
      <li><a href="#SimulationConfigStrings">type
      SimulationConfigStrings</a>
      <ul>
      <li><a href="#LoadSimulationConfigStringsFromYaml">func
      LoadSimulationConfigStringsFromYaml(path string)
      *SimulationConfigStrings</a></li>
      </ul></li>
      <li><a href="#StateHistory">type StateHistory</a>
      <ul>
      <li><a href="#StateHistory.CopyStateRow">func (s *StateHistory)
      CopyStateRow(index int) []float64</a></li>
      <li><a href="#StateHistory.GetNextStateRowToUpdate">func (s
      *StateHistory) GetNextStateRowToUpdate() []float64</a></li>
      </ul></li>
      <li><a href="#StateIterator">type StateIterator</a>
      <ul>
      <li><a href="#NewStateIterator">func NewStateIterator(iteration
      Iteration, params Params, partitionName string, partitionIndex
      int, valueChannels StateValueChannels, outputCondition
      OutputCondition, outputFunction OutputFunction, initState
      []float64, initTime float64) *StateIterator</a></li>
      <li><a href="#StateIterator.Iterate">func (s *StateIterator)
      Iterate(stateHistories []*StateHistory, timestepsHistory
      *CumulativeTimestepsHistory) []float64</a></li>
      <li><a href="#StateIterator.ReceiveAndIteratePending">func (s
      *StateIterator) ReceiveAndIteratePending(inputChannel &lt;-chan
      *IteratorInputMessage)</a></li>
      <li><a href="#StateIterator.UpdateHistory">func (s *StateIterator)
      UpdateHistory(inputChannel &lt;-chan
      *IteratorInputMessage)</a></li>
      </ul></li>
      <li><a href="#StateTimeStorage">type StateTimeStorage</a>
      <ul>
      <li><a href="#NewStateTimeStorage">func NewStateTimeStorage()
      *StateTimeStorage</a></li>
      <li><a href="#StateTimeStorage.ConcurrentAppend">func (s
      *StateTimeStorage) ConcurrentAppend(name string, time float64,
      values []float64)</a></li>
      <li><a href="#StateTimeStorage.GetIndex">func (s
      *StateTimeStorage) GetIndex(name string) int</a></li>
      <li><a href="#StateTimeStorage.GetNames">func (s
      *StateTimeStorage) GetNames() []string</a></li>
      <li><a href="#StateTimeStorage.GetTimes">func (s
      *StateTimeStorage) GetTimes() []float64</a></li>
      <li><a href="#StateTimeStorage.GetValues">func (s
      *StateTimeStorage) GetValues(name string) [][]float64</a></li>
      <li><a href="#StateTimeStorage.SetTimes">func (s
      *StateTimeStorage) SetTimes(times []float64)</a></li>
      <li><a href="#StateTimeStorage.SetValues">func (s
      *StateTimeStorage) SetValues(name string, values
      [][]float64)</a></li>
      </ul></li>
      <li><a href="#StateTimeStorageOutputFunction">type
      StateTimeStorageOutputFunction</a>
      <ul>
      <li><a href="#StateTimeStorageOutputFunction.Output">func (f
      *StateTimeStorageOutputFunction) Output(partitionName string,
      state []float64, cumulativeTimesteps float64)</a></li>
      </ul></li>
      <li><a href="#StateValueChannels">type StateValueChannels</a>
      <ul>
      <li><a href="#StateValueChannels.BroadcastDownstream">func (s
      *StateValueChannels) BroadcastDownstream(stateValues
      []float64)</a></li>
      <li><a href="#StateValueChannels.UpdateUpstreamParams">func (s
      *StateValueChannels) UpdateUpstreamParams(params *Params)</a></li>
      </ul></li>
      <li><a href="#StdoutOutputFunction">type StdoutOutputFunction</a>
      <ul>
      <li><a href="#StdoutOutputFunction.Output">func (s
      *StdoutOutputFunction) Output(partitionName string, state
      []float64, cumulativeTimesteps float64)</a></li>
      </ul></li>
      <li><a href="#TerminationCondition">type
      TerminationCondition</a></li>
      <li><a href="#TimeElapsedTerminationCondition">type
      TimeElapsedTerminationCondition</a>
      <ul>
      <li><a href="#TimeElapsedTerminationCondition.Terminate">func (t
      *TimeElapsedTerminationCondition) Terminate(stateHistories
      []*StateHistory, timestepsHistory *CumulativeTimestepsHistory)
      bool</a></li>
      </ul></li>
      <li><a href="#TimestepFunction">type TimestepFunction</a></li>
      <li><a href="#UpstreamConfig">type UpstreamConfig</a></li>
      <li><a href="#UpstreamStateValues">type
      UpstreamStateValues</a></li>
      <li><a href="#WebsocketOutputFunction">type
      WebsocketOutputFunction</a>
      <ul>
      <li><a href="#NewWebsocketOutputFunction">func
      NewWebsocketOutputFunction(connection *websocket.Conn, mutex
      *sync.Mutex) *WebsocketOutputFunction</a></li>
      <li><a href="#WebsocketOutputFunction.Output">func (w
      *WebsocketOutputFunction) Output(partitionName string, state
      []float64, cumulativeTimesteps float64)</a></li>
      </ul></li>
      </ul>
      <h2 id="variables">Variables</h2>
      <p><a name="File_cmd_messages_partition_state_proto"></a></p>
      <div class="sourceCode" id="cb2"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> File_cmd_messages_partition_state_proto protoreflect<span class="op">.</span>FileDescriptor</span></code></pre></div>
      <p><a name="RunWithHarnesses"></a></p>
      <h2 id="func-runwithharnesses">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L127">RunWithHarnesses</a></h2>
      <div class="sourceCode" id="cb3"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> RunWithHarnesses<span class="op">(</span>settings <span class="op">*</span>Settings<span class="op">,</span> implementations <span class="op">*</span>Implementations<span class="op">)</span> <span class="dt">error</span></span></code></pre></div>
      <p>RunWithHarnesses runs all iterations, each wrapped in a test
      harness and returns any errors if found. The simulation is also
      run twice to check for statefulness residues.</p>
      <p><a name="ConfigGenerator"></a></p>
      <h2 id="type-configgenerator">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L144-L148">ConfigGenerator</a></h2>
      <p>ConfigGenerator builds Settings and Implementations
      programmatically and can generate runnable configs on demand.</p>
      <div class="sourceCode" id="cb4"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> ConfigGenerator <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewConfigGenerator"></a></p>
      <h3 id="func-newconfiggenerator">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L269">NewConfigGenerator</a></h3>
      <div class="sourceCode" id="cb5"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewConfigGenerator<span class="op">()</span> <span class="op">*</span>ConfigGenerator</span></code></pre></div>
      <p>NewConfigGenerator creates a new ConfigGenerator with empty
      ordering.</p>
      <p><a name="ConfigGenerator.GenerateConfigs"></a></p>
      <h3 id="func-configgenerator-generateconfigs">func
      (*ConfigGenerator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L199">GenerateConfigs</a></h3>
      <div class="sourceCode" id="cb6"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GenerateConfigs<span class="op">()</span> <span class="op">(*</span>Settings<span class="op">,</span> <span class="op">*</span>Implementations<span class="op">)</span></span></code></pre></div>
      <p>GenerateConfigs constructs Settings and Implementations ready
      to run. It computes state widths, converts named references, and
      configures iterations with their partition indices.</p>
      <p><a name="ConfigGenerator.GetGlobalSeed"></a></p>
      <h3 id="func-configgenerator-getglobalseed">func
      (*ConfigGenerator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L151">GetGlobalSeed</a></h3>
      <div class="sourceCode" id="cb7"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GetGlobalSeed<span class="op">()</span> <span class="dt">uint64</span></span></code></pre></div>
      <p>GetGlobalSeed returns the current global seed.</p>
      <p><a name="ConfigGenerator.GetPartition"></a></p>
      <h3 id="func-configgenerator-getpartition">func (*ConfigGenerator)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L176">GetPartition</a></h3>
      <div class="sourceCode" id="cb8"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GetPartition<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>PartitionConfig</span></code></pre></div>
      <p>GetPartition retrieves a partition config by name.</p>
      <p><a name="ConfigGenerator.GetSimulation"></a></p>
      <h3 id="func-configgenerator-getsimulation">func
      (*ConfigGenerator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L166">GetSimulation</a></h3>
      <div class="sourceCode" id="cb9"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> GetSimulation<span class="op">()</span> <span class="op">*</span>SimulationConfig</span></code></pre></div>
      <p>GetSimulation returns the current simulation config.</p>
      <p><a name="ConfigGenerator.ResetPartition"></a></p>
      <h3 id="func-configgenerator-resetpartition">func
      (*ConfigGenerator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L187">ResetPartition</a></h3>
      <div class="sourceCode" id="cb10"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> ResetPartition<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> config <span class="op">*</span>PartitionConfig<span class="op">)</span></span></code></pre></div>
      <p>ResetPartition replaces the config for a partition by name.</p>
      <p><a name="ConfigGenerator.SetGlobalSeed"></a></p>
      <h3 id="func-configgenerator-setglobalseed">func
      (*ConfigGenerator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L157">SetGlobalSeed</a></h3>
      <div class="sourceCode" id="cb11"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> SetGlobalSeed<span class="op">(</span>seed <span class="dt">uint64</span><span class="op">)</span></span></code></pre></div>
      <p>SetGlobalSeed assigns a random seed to each partition derived
      from the provided global seed.</p>
      <p><a name="ConfigGenerator.SetPartition"></a></p>
      <h3 id="func-configgenerator-setpartition">func (*ConfigGenerator)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L181">SetPartition</a></h3>
      <div class="sourceCode" id="cb12"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> SetPartition<span class="op">(</span>config <span class="op">*</span>PartitionConfig<span class="op">)</span></span></code></pre></div>
      <p>SetPartition adds a new partition config. Names must be
      unique.</p>
      <p><a name="ConfigGenerator.SetSimulation"></a></p>
      <h3 id="func-configgenerator-setsimulation">func
      (*ConfigGenerator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L171">SetSimulation</a></h3>
      <div class="sourceCode" id="cb13"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>ConfigGenerator<span class="op">)</span> SetSimulation<span class="op">(</span>config <span class="op">*</span>SimulationConfig<span class="op">)</span></span></code></pre></div>
      <p>SetSimulation sets the current simulation config.</p>
      <p><a name="ConstantTimestepFunction"></a></p>
      <h2 id="type-constanttimestepfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L17-L19">ConstantTimestepFunction</a></h2>
      <p>ConstantTimestepFunction uses a fixed stepsize.</p>
      <div class="sourceCode" id="cb14"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> ConstantTimestepFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    Stepsize <span class="dt">float64</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="ConstantTimestepFunction.NextIncrement"></a></p>
      <h3 id="func-constanttimestepfunction-nextincrement">func
      (*ConstantTimestepFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L21-L23">NextIncrement</a></h3>
      <div class="sourceCode" id="cb15"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>ConstantTimestepFunction<span class="op">)</span> NextIncrement<span class="op">(</span>timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">float64</span></span></code></pre></div>
      <p><a name="CumulativeTimestepsHistory"></a></p>
      <h2 id="type-cumulativetimestepshistory">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L41-L46">CumulativeTimestepsHistory</a></h2>
      <p>CumulativeTimestepsHistory is a rolling window of cumulative
      timesteps with NextIncrement and CurrentStepNumber.</p>
      <div class="sourceCode" id="cb16"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> CumulativeTimestepsHistory <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    NextIncrement     <span class="dt">float64</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    Values            <span class="op">*</span>mat<span class="op">.</span>VecDense</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    CurrentStepNumber <span class="dt">int</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth <span class="dt">int</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="DownstreamStateValues"></a></p>
      <h2 id="type-downstreamstatevalues">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L101-L104">DownstreamStateValues</a></h2>
      <p>DownstreamStateValues contains information to broadcast state
      values to downstream iterators via channel.</p>
      <div class="sourceCode" id="cb17"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> DownstreamStateValues <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    Channel <span class="kw">chan</span> <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    Copies  <span class="dt">int</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="EveryNStepsOutputCondition"></a></p>
      <h2 id="type-everynstepsoutputcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L249-L252">EveryNStepsOutputCondition</a></h2>
      <p>EveryNStepsOutputCondition emits output once every N steps.</p>
      <div class="sourceCode" id="cb18"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> EveryNStepsOutputCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    N <span class="dt">int</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="EveryNStepsOutputCondition.IsOutputStep"></a></p>
      <h3 id="func-everynstepsoutputcondition-isoutputstep">func
      (*EveryNStepsOutputCondition) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L254-L258">IsOutputStep</a></h3>
      <div class="sourceCode" id="cb19"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>EveryNStepsOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
      <p><a name="EveryStepOutputCondition"></a></p>
      <h2 id="type-everystepoutputcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L238">EveryStepOutputCondition</a></h2>
      <p>EveryStepOutputCondition calls the OutputFunction at every
      step.</p>
      <div class="sourceCode" id="cb20"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> EveryStepOutputCondition <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
      <p><a name="EveryStepOutputCondition.IsOutputStep"></a></p>
      <h3 id="func-everystepoutputcondition-isoutputstep">func
      (*EveryStepOutputCondition) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L240-L244">IsOutputStep</a></h3>
      <div class="sourceCode" id="cb21"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>EveryStepOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
      <p><a name="ExponentialDistributionTimestepFunction"></a></p>
      <h2 id="type-exponentialdistributiontimestepfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L29-L33">ExponentialDistributionTimestepFunction</a></h2>
      <p>ExponentialDistributionTimestepFunction draws dt from an
      exponential distribution parameterised by Mean and Seed.</p>
      <div class="sourceCode" id="cb22"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> ExponentialDistributionTimestepFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    Mean <span class="dt">float64</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    Seed <span class="dt">uint64</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewExponentialDistributionTimestepFunction"></a></p>
      <h3 id="func-newexponentialdistributiontimestepfunction">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L43-L46">NewExponentialDistributionTimestepFunction</a></h3>
      <div class="sourceCode" id="cb23"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewExponentialDistributionTimestepFunction<span class="op">(</span>mean <span class="dt">float64</span><span class="op">,</span> seed <span class="dt">uint64</span><span class="op">)</span> <span class="op">*</span>ExponentialDistributionTimestepFunction</span></code></pre></div>
      <p>NewExponentialDistributionTimestepFunction constructs an
      exponential-dt timestep function given mean and seed.</p>
      <p><a name="ExponentialDistributionTimestepFunction.NextIncrement"></a></p>
      <h3
      id="func-exponentialdistributiontimestepfunction-nextincrement">func
      (*ExponentialDistributionTimestepFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L35-L37">NextIncrement</a></h3>
      <div class="sourceCode" id="cb24"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>ExponentialDistributionTimestepFunction<span class="op">)</span> NextIncrement<span class="op">(</span>timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">float64</span></span></code></pre></div>
      <p><a name="Implementations"></a></p>
      <h2 id="type-implementations">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L60-L66">Implementations</a></h2>
      <p>Implementations provides concrete implementations for a
      simulation run.</p>
      <div class="sourceCode" id="cb25"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Implementations <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    Iterations           <span class="op">[]</span>Iteration</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    OutputCondition      OutputCondition</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    OutputFunction       OutputFunction</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    TerminationCondition TerminationCondition</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     TimestepFunction</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="Iteration"></a></p>
      <h2 id="type-iteration">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L82-L90">Iteration</a></h2>
      <p>Iteration defines the interface for per-partition state update
      functions in stochadex simulations.</p>
      <p>The Iteration interface is the fundamental building block for
      defining how simulation state evolves over time. Each partition in
      a simulation uses an Iteration to compute its next state values
      based on the current state, parameters, and time information.</p>
      <p>Design Philosophy: The Iteration interface emphasizes
      modularity and composability. By providing a simple, well-defined
      interface, it enables the creation of complex simulations through
      the combination of simple, focused iterations. This design
      supports both built-in iteration types and custom user-defined
      iterations.</p>
      <p>Interface Methods:</p>
      <ul>
      <li>Configure: Initialize the iteration with simulation settings
      (called once)</li>
      <li>Iterate: Compute the next state values (called each simulation
      step)</li>
      </ul>
      <p>Configuration Phase: Configure is called once per partition
      during simulation setup. It receives:</p>
      <ul>
      <li>partitionIndex: The index of this partition in the
      simulation</li>
      <li>settings: Global simulation settings and configuration</li>
      </ul>
      <p>This phase is used for:</p>
      <ul>
      <li>Initializing random number generators</li>
      <li>Setting up internal data structures</li>
      <li>Configuring iteration-specific parameters</li>
      <li>Validating configuration parameters</li>
      </ul>
      <p>Iteration Phase: Iterate is called each simulation step to
      compute the next state values. It receives:</p>
      <ul>
      <li>params: Current simulation parameters for this partition</li>
      <li>partitionIndex: The index of this partition</li>
      <li>stateHistories: State histories for all partitions (for
      cross-partition access)</li>
      <li>timestepsHistory: Time and timestep information</li>
      </ul>
      <p>It must return:</p>
      <ul>
      <li>[]float64: The next state values for this partition</li>
      </ul>
      <p>Implementation Requirements:</p>
      <ul>
      <li>Configure must be called before Iterate</li>
      <li>Iterate must return a slice of the correct length (matching
      state width)</li>
      <li>Iterate should not modify the input parameters or state
      histories</li>
      <li>Iterate should be deterministic given the same inputs and
      initial seed (for reproducible simulations)</li>
      </ul>
      <p>Example Usage:</p>
      <div class="sourceCode" id="cb26"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> MyIteration <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Internal state</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>m <span class="op">*</span>MyIteration<span class="op">)</span> Configure<span class="op">(</span>partitionIndex <span class="dt">int</span><span class="op">,</span> settings <span class="op">*</span>Settings<span class="op">)</span> <span class="op">{</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Initialize iteration</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>m <span class="op">*</span>MyIteration<span class="op">)</span> Iterate<span class="op">(</span>params <span class="op">*</span>Params<span class="op">,</span> partitionIndex <span class="dt">int</span><span class="op">,</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>                              stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>                              timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span> <span class="op">{</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Compute next state values</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="op">[]</span><span class="dt">float64</span><span class="op">{</span>newValue1<span class="op">,</span> newValue2<span class="op">,</span> <span class="op">...}</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p>Common Iteration Types:</p>
      <ul>
      <li>Stochastic processes: WienerProcessIteration,
      PoissonProcessIteration</li>
      <li>Deterministic functions: ValuesFunctionIteration,
      ConstantValuesIteration</li>
      <li>Aggregation functions: VectorMeanIteration,
      GroupedAggregationIteration</li>
      <li>User-defined iterations: Custom implementations for specific
      needs</li>
      </ul>
      <p>Performance Considerations:</p>
      <ul>
      <li>Iterate is called frequently during simulation execution</li>
      <li>Implementations should be optimized for performance</li>
      <li>Avoid expensive computations or memory allocations in
      Iterate</li>
      <li>Consider caching expensive computations in Configure</li>
      </ul>
      <p>Thread Safety:</p>
      <ul>
      <li>Iterate may be called concurrently from multiple
      goroutines</li>
      <li>Implementations should be thread-safe or stateless</li>
      </ul>
      <div class="sourceCode" id="cb27"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Iteration <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    Configure<span class="op">(</span>partitionIndex <span class="dt">int</span><span class="op">,</span> settings <span class="op">*</span>Settings<span class="op">)</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    Iterate<span class="op">(</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        params <span class="op">*</span>Params<span class="op">,</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        partitionIndex <span class="dt">int</span><span class="op">,</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>        timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">,</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="IterationSettings"></a></p>
      <h2 id="type-iterationsettings">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L22-L30">IterationSettings</a></h2>
      <p>IterationSettings is the YAML-loadable per-partition
      configuration.</p>
      <p>Usage hints:</p>
      <ul>
      <li>Name is used to address partitions in other configs and params
      maps.</li>
      <li>ParamsFromUpstream forwards outputs from upstream partitions
      into Params.</li>
      <li>StateWidth and StateHistoryDepth control the size and depth of
      state.</li>
      </ul>
      <div class="sourceCode" id="cb28"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IterationSettings <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    Name               <span class="dt">string</span>                    <span class="st">`yaml:&quot;name&quot;`</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    Params             Params                    <span class="st">`yaml:&quot;params&quot;`</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    ParamsFromUpstream <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span>UpstreamConfig <span class="st">`yaml:&quot;params_from_upstream,omitempty&quot;`</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    InitStateValues    <span class="op">[]</span><span class="dt">float64</span>                 <span class="st">`yaml:&quot;init_state_values&quot;`</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    Seed               <span class="dt">uint64</span>                    <span class="st">`yaml:&quot;seed&quot;`</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    StateWidth         <span class="dt">int</span>                       <span class="st">`yaml:&quot;state_width&quot;`</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth  <span class="dt">int</span>                       <span class="st">`yaml:&quot;state_history_depth&quot;`</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="IterationTestHarness"></a></p>
      <h2 id="type-iterationtestharness">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L13-L18">IterationTestHarness</a></h2>
      <p>IterationTestHarness wraps an iteration and performs checks on
      its behaviour while running.</p>
      <div class="sourceCode" id="cb29"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IterationTestHarness <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    Iteration Iteration</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    Err       <span class="dt">error</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="IterationTestHarness.Configure"></a></p>
      <h3 id="func-iterationtestharness-configure">func
      (*IterationTestHarness) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L20-L23">Configure</a></h3>
      <div class="sourceCode" id="cb30"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>h <span class="op">*</span>IterationTestHarness<span class="op">)</span> Configure<span class="op">(</span>partitionIndex <span class="dt">int</span><span class="op">,</span> settings <span class="op">*</span>Settings<span class="op">)</span></span></code></pre></div>
      <p><a name="IterationTestHarness.Iterate"></a></p>
      <h3 id="func-iterationtestharness-iterate">func
      (*IterationTestHarness) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/harness.go#L34-L39">Iterate</a></h3>
      <div class="sourceCode" id="cb31"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>h <span class="op">*</span>IterationTestHarness<span class="op">)</span> Iterate<span class="op">(</span>params <span class="op">*</span>Params<span class="op">,</span> partitionIndex <span class="dt">int</span><span class="op">,</span> stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p><a name="IteratorInputMessage"></a></p>
      <h2 id="type-iteratorinputmessage">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L49-L52">IteratorInputMessage</a></h2>
      <p>IteratorInputMessage carries shared histories into iterator
      jobs.</p>
      <div class="sourceCode" id="cb32"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> IteratorInputMessage <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    StateHistories   <span class="op">[]*</span>StateHistory</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    TimestepsHistory <span class="op">*</span>CumulativeTimestepsHistory</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="JsonLogChannelOutputFunction"></a></p>
      <h2 id="type-jsonlogchanneloutputfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L108-L110">JsonLogChannelOutputFunction</a></h2>
      <p>JsonLogChannelOutputFunction writes JSON log entries via a
      background goroutine using a channel for improved throughput.</p>
      <div class="sourceCode" id="cb33"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> JsonLogChannelOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewJsonLogChannelOutputFunction"></a></p>
      <h3 id="func-newjsonlogchanneloutputfunction">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L132-L134">NewJsonLogChannelOutputFunction</a></h3>
      <div class="sourceCode" id="cb34"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewJsonLogChannelOutputFunction<span class="op">(</span>filePath <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>JsonLogChannelOutputFunction</span></code></pre></div>
      <p>NewJsonLogChannelOutputFunction creates a
      JsonLogChannelOutputFunction. Call Close (defer it) to ensure
      flushing at the end of a run.</p>
      <p><a name="JsonLogChannelOutputFunction.Close"></a></p>
      <h3 id="func-jsonlogchanneloutputfunction-close">func
      (*JsonLogChannelOutputFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L126">Close</a></h3>
      <div class="sourceCode" id="cb35"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>j <span class="op">*</span>JsonLogChannelOutputFunction<span class="op">)</span> Close<span class="op">()</span></span></code></pre></div>
      <p>Close ensures that the log channel flushes at the end of a
      run.</p>
      <p><a name="JsonLogChannelOutputFunction.Output"></a></p>
      <h3 id="func-jsonlogchanneloutputfunction-output">func
      (*JsonLogChannelOutputFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L112-L116">Output</a></h3>
      <div class="sourceCode" id="cb36"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>j <span class="op">*</span>JsonLogChannelOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p><a name="JsonLogEntry"></a></p>
      <h2 id="type-jsonlogentry">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L56-L60">JsonLogEntry</a></h2>
      <p>JsonLogEntry is the serialised record format used by JSON log
      outputs.</p>
      <div class="sourceCode" id="cb37"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> JsonLogEntry <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    PartitionName       <span class="dt">string</span>    <span class="st">`json:&quot;partition_name&quot;`</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    State               <span class="op">[]</span><span class="dt">float64</span> <span class="st">`json:&quot;state&quot;`</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    CumulativeTimesteps <span class="dt">float64</span>   <span class="st">`json:&quot;time&quot;`</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="JsonLogOutputFunction"></a></p>
      <h2 id="type-jsonlogoutputfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L63-L66">JsonLogOutputFunction</a></h2>
      <p>JsonLogOutputFunction writes newline-delimited JSON log
      entries.</p>
      <div class="sourceCode" id="cb38"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> JsonLogOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewJsonLogOutputFunction"></a></p>
      <h3 id="func-newjsonlogoutputfunction">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L94-L96">NewJsonLogOutputFunction</a></h3>
      <div class="sourceCode" id="cb39"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewJsonLogOutputFunction<span class="op">(</span>filePath <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>JsonLogOutputFunction</span></code></pre></div>
      <p>NewJsonLogOutputFunction creates a new
      JsonLogOutputFunction.</p>
      <p><a name="JsonLogOutputFunction.Output"></a></p>
      <h3 id="func-jsonlogoutputfunction-output">func
      (*JsonLogOutputFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L68-L72">Output</a></h3>
      <div class="sourceCode" id="cb40"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>j <span class="op">*</span>JsonLogOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p><a name="NamedPartitionIndex"></a></p>
      <h2 id="type-namedpartitionindex">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L139-L142">NamedPartitionIndex</a></h2>
      <p>NamedPartitionIndex pairs the name of a partition with the
      partition index assigned to it by the PartitionCoordinator.</p>
      <div class="sourceCode" id="cb41"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NamedPartitionIndex <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    Name  <span class="dt">string</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    Index <span class="dt">int</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NamedUpstreamConfig"></a></p>
      <h2 id="type-namedupstreamconfig">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L69-L72">NamedUpstreamConfig</a></h2>
      <p>NamedUpstreamConfig is like UpstreamConfig but refers to
      upstream by name.</p>
      <div class="sourceCode" id="cb42"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NamedUpstreamConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    Upstream <span class="dt">string</span> <span class="st">`yaml:&quot;upstream&quot;`</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    Indices  <span class="op">[]</span><span class="dt">int</span>  <span class="st">`yaml:&quot;indices,omitempty&quot;`</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NilOutputCondition"></a></p>
      <h2 id="type-niloutputcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L227">NilOutputCondition</a></h2>
      <p>NilOutputCondition never outputs.</p>
      <div class="sourceCode" id="cb43"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NilOutputCondition <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
      <p><a name="NilOutputCondition.IsOutputStep"></a></p>
      <h3 id="func-niloutputcondition-isoutputstep">func
      (*NilOutputCondition) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L229-L233">IsOutputStep</a></h3>
      <div class="sourceCode" id="cb44"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>NilOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
      <p><a name="NilOutputFunction"></a></p>
      <h2 id="type-niloutputfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L21">NilOutputFunction</a></h2>
      <p>NilOutputFunction outputs nothing from the simulation.</p>
      <div class="sourceCode" id="cb45"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NilOutputFunction <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
      <p><a name="NilOutputFunction.Output"></a></p>
      <h3 id="func-niloutputfunction-output">func (*NilOutputFunction)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L23-L27">Output</a></h3>
      <div class="sourceCode" id="cb46"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>f <span class="op">*</span>NilOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p><a name="NumberOfStepsTerminationCondition"></a></p>
      <h2 id="type-numberofstepsterminationcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L12-L14">NumberOfStepsTerminationCondition</a></h2>
      <p>NumberOfStepsTerminationCondition terminates after
      MaxNumberOfSteps.</p>
      <div class="sourceCode" id="cb47"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> NumberOfStepsTerminationCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    MaxNumberOfSteps <span class="dt">int</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NumberOfStepsTerminationCondition.Terminate"></a></p>
      <h3 id="func-numberofstepsterminationcondition-terminate">func
      (*NumberOfStepsTerminationCondition) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L16-L19">Terminate</a></h3>
      <div class="sourceCode" id="cb48"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>NumberOfStepsTerminationCondition<span class="op">)</span> Terminate<span class="op">(</span>stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
      <p><a name="OnlyGivenPartitionsOutputCondition"></a></p>
      <h2 id="type-onlygivenpartitionsoutputcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L268-L270">OnlyGivenPartitionsOutputCondition</a></h2>
      <p>OnlyGivenPartitionsOutputCondition emits output only for listed
      partitions.</p>
      <div class="sourceCode" id="cb49"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> OnlyGivenPartitionsOutputCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    Partitions <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span><span class="dt">bool</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="OnlyGivenPartitionsOutputCondition.IsOutputStep"></a></p>
      <h3 id="func-onlygivenpartitionsoutputcondition-isoutputstep">func
      (*OnlyGivenPartitionsOutputCondition) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L272-L276">IsOutputStep</a></h3>
      <div class="sourceCode" id="cb50"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>o <span class="op">*</span>OnlyGivenPartitionsOutputCondition<span class="op">)</span> IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
      <p><a name="OutputCondition"></a></p>
      <h2 id="type-outputcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L222-L224">OutputCondition</a></h2>
      <p>OutputCondition decides whether an output should be emitted
      this step.</p>
      <div class="sourceCode" id="cb51"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> OutputCondition <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    IsOutputStep<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span> <span class="dt">bool</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="OutputFunction"></a></p>
      <h2 id="type-outputfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L16-L18">OutputFunction</a></h2>
      <p>OutputFunction writes state/time to an output sink when the
      OutputCondition is met.</p>
      <div class="sourceCode" id="cb52"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> OutputFunction <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="Params"></a></p>
      <h2 id="type-params">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L10-L13">Params</a></h2>
      <p>Params stores per-partition parameter values.</p>
      <p>Usage hints:</p>
      <ul>
      <li>Use Get/GetIndex helpers to retrieve, Set/SetIndex to
      update.</li>
      <li>SetPartitionName improves error messages for missing
      params.</li>
      </ul>
      <div class="sourceCode" id="cb53"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Params <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    Map <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">][]</span><span class="dt">float64</span> <span class="st">`yaml:&quot;,inline&quot;`</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewParams"></a></p>
      <h3 id="func-newparams">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L91">NewParams</a></h3>
      <div class="sourceCode" id="cb54"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewParams<span class="op">(</span>params <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">][]</span><span class="dt">float64</span><span class="op">)</span> Params</span></code></pre></div>
      <p>NewParams constructs a Params instance.</p>
      <p><a name="Params.Get"></a></p>
      <h3 id="func-params-get">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L33">Get</a></h3>
      <div class="sourceCode" id="cb55"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> Get<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p>Get returns parameter values or panics with a helpful
      message.</p>
      <p><a name="Params.GetCopy"></a></p>
      <h3 id="func-params-getcopy">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L43">GetCopy</a></h3>
      <div class="sourceCode" id="cb56"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetCopy<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p>GetCopy returns a copy of parameter values or panics with a
      helpful message.</p>
      <p><a name="Params.GetCopyOk"></a></p>
      <h3 id="func-params-getcopyok">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L22">GetCopyOk</a></h3>
      <div class="sourceCode" id="cb57"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetCopyOk<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">([]</span><span class="dt">float64</span><span class="op">,</span> <span class="dt">bool</span><span class="op">)</span></span></code></pre></div>
      <p>GetCopyOk returns a copy of parameter values if present along
      with a flag.</p>
      <p><a name="Params.GetIndex"></a></p>
      <h3 id="func-params-getindex">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L55">GetIndex</a></h3>
      <div class="sourceCode" id="cb58"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetIndex<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> index <span class="dt">int</span><span class="op">)</span> <span class="dt">float64</span></span></code></pre></div>
      <p>GetIndex returns a single parameter value or panics.</p>
      <p><a name="Params.GetOk"></a></p>
      <h3 id="func-params-getok">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L16">GetOk</a></h3>
      <div class="sourceCode" id="cb59"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> GetOk<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">([]</span><span class="dt">float64</span><span class="op">,</span> <span class="dt">bool</span><span class="op">)</span></span></code></pre></div>
      <p>GetOk returns parameter values if present along with a boolean
      flag.</p>
      <p><a name="Params.Set"></a></p>
      <h3 id="func-params-set">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L65">Set</a></h3>
      <div class="sourceCode" id="cb60"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> Set<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> values <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p>Set creates or updates parameter values by name.</p>
      <p><a name="Params.SetIndex"></a></p>
      <h3 id="func-params-setindex">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L70">SetIndex</a></h3>
      <div class="sourceCode" id="cb61"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> SetIndex<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> index <span class="dt">int</span><span class="op">,</span> value <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p>SetIndex updates a single parameter value or panics on invalid
      index.</p>
      <p><a name="Params.SetPartitionName"></a></p>
      <h3 id="func-params-setpartitionname">func (*Params) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/params.go#L86">SetPartitionName</a></h3>
      <div class="sourceCode" id="cb62"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>Params<span class="op">)</span> SetPartitionName<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span></span></code></pre></div>
      <p>SetPartitionName attaches the owning partition name for better
      errors.</p>
      <p><a name="PartitionConfig"></a></p>
      <h2 id="type-partitionconfig">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L80-L89">PartitionConfig</a></h2>
      <p>PartitionConfig defines a partition to add to a simulation.</p>
      <p>Usage hints:</p>
      <ul>
      <li>Iteration is not YAML-serialised; set it
      programmatically.</li>
      <li>ParamsAsPartitions allows passing partition indices via their
      names.</li>
      <li>ParamsFromUpstream forwards outputs from named upstream
      partitions.</li>
      </ul>
      <div class="sourceCode" id="cb63"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    Name               <span class="dt">string</span>                         <span class="st">`yaml:&quot;name&quot;`</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    Iteration          Iteration                      <span class="st">`yaml:&quot;-&quot;`</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    Params             Params                         <span class="st">`yaml:&quot;params&quot;`</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    ParamsAsPartitions <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">][]</span><span class="dt">string</span>            <span class="st">`yaml:&quot;params_as_partitions,omitempty&quot;`</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    ParamsFromUpstream <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span>NamedUpstreamConfig <span class="st">`yaml:&quot;params_from_upstream,omitempty&quot;`</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>    InitStateValues    <span class="op">[]</span><span class="dt">float64</span>                      <span class="st">`yaml:&quot;init_state_values&quot;`</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth  <span class="dt">int</span>                            <span class="st">`yaml:&quot;state_history_depth&quot;`</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>    Seed               <span class="dt">uint64</span>                         <span class="st">`yaml:&quot;seed&quot;`</span></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="LoadPartitionConfigFromYaml"></a></p>
      <h3 id="func-loadpartitionconfigfromyaml">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/loaders.go#L31">LoadPartitionConfigFromYaml</a></h3>
      <div class="sourceCode" id="cb64"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> LoadPartitionConfigFromYaml<span class="op">(</span>path <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>PartitionConfig</span></code></pre></div>
      <p>LoadPartitionConfigFromYaml loads PartitionConfig from a YAML
      file path.</p>
      <p>Usage hints:</p>
      <ul>
      <li>Calls Init to populate missing defaults after
      unmarshalling.</li>
      </ul>
      <p><a name="PartitionConfig.Init"></a></p>
      <h3 id="func-partitionconfig-init">func (*PartitionConfig) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L92">Init</a></h3>
      <div class="sourceCode" id="cb65"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>PartitionConfig<span class="op">)</span> Init<span class="op">()</span></span></code></pre></div>
      <p>Init ensures params maps are initialised; call after
      unmarshalling YAML.</p>
      <p><a name="PartitionConfigOrdering"></a></p>
      <h2 id="type-partitionconfigordering">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L125-L129">PartitionConfigOrdering</a></h2>
      <p>PartitionConfigOrdering maintains the ordering and lookup for
      partitions. Can be updated dynamically via Append.</p>
      <div class="sourceCode" id="cb66"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionConfigOrdering <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    Names        <span class="op">[]</span><span class="dt">string</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    IndexByName  <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]</span><span class="dt">int</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    ConfigByName <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]*</span>PartitionConfig</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="PartitionConfigOrdering.Append"></a></p>
      <h3 id="func-partitionconfigordering-append">func
      (*PartitionConfigOrdering) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L132">Append</a></h3>
      <div class="sourceCode" id="cb67"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>p <span class="op">*</span>PartitionConfigOrdering<span class="op">)</span> Append<span class="op">(</span>config <span class="op">*</span>PartitionConfig<span class="op">)</span></span></code></pre></div>
      <p>Append inserts another partition into the ordering and updates
      lookups.</p>
      <p><a name="PartitionCoordinator"></a></p>
      <h2 id="type-partitioncoordinator">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L70-L76">PartitionCoordinator</a></h2>
      <p>PartitionCoordinator orchestrates iteration work across
      partitions and applies state/time history updates in a coordinated
      manner.</p>
      <p>The PartitionCoordinator is the central component that manages
      the execution of all partitions in a simulation. It coordinates
      the timing, communication, and state updates across all
      partitions, ensuring proper synchronization and maintaining
      simulation consistency.</p>
      <p>Architecture: The coordinator uses a two-phase execution
      model:</p>
      <ol type="1">
      <li>Iteration Phase: All partitions compute their next state
      values</li>
      <li>Update Phase: State and time histories are updated with new
      values</li>
      </ol>
      <p>This design ensures that all partitions see consistent state
      information during each iteration, preventing race conditions and
      maintaining simulation determinism.</p>
      <p>Concurrency Model:</p>
      <ul>
      <li>Each partition runs in its own goroutine for parallel
      execution</li>
      <li>Channels are used for inter-partition communication</li>
      <li>WaitGroups ensure proper synchronization between phases</li>
      <li>Shared state is protected by the coordinators control
      flow</li>
      </ul>
      <p>Execution Flow:</p>
      <ol type="1">
      <li>Compute next timestep increment using TimestepFunction</li>
      <li>Request iterations from all partitions (parallel
      execution)</li>
      <li>Wait for all iterations to complete</li>
      <li>Update state and time histories (parallel execution)</li>
      <li>Check termination condition</li>
      <li>Repeat until termination</li>
      </ol>
      <p>Fields:</p>
      <ul>
      <li>Iterators: List of StateIterators, one per partition</li>
      <li>Shared: Shared state and time information accessible to all
      partitions</li>
      <li>TimestepFunction: Function that determines the next timestep
      increment</li>
      <li>TerminationCondition: Condition that determines when to stop
      the simulation</li>
      <li>newWorkChannels: Communication channels for coordinating
      partition work</li>
      </ul>
      <p>Example Usage:</p>
      <div class="sourceCode" id="cb68"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>coordinator <span class="op">:=</span> NewPartitionCoordinator<span class="op">(</span>settings<span class="op">,</span> implementations<span class="op">)</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co">// Run simulation until termination</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>coordinator<span class="op">.</span>Run<span class="op">()</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Or step-by-step control</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">!</span>coordinator<span class="op">.</span>ReadyToTerminate<span class="op">()</span> <span class="op">{</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> wg sync<span class="op">.</span>WaitGroup</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>    coordinator<span class="op">.</span>Step<span class="op">(&amp;</span>wg<span class="op">)</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p>Performance:</p>
      <ul>
      <li>O(p) time complexity where p is the number of partitions</li>
      <li>Parallel execution of partition iterations</li>
      <li>Efficient channel-based communication</li>
      <li>Memory usage scales with partition count and state size</li>
      </ul>
      <p>Thread Safety:</p>
      <ul>
      <li>Safe for concurrent access to coordinator methods</li>
      <li>Internal synchronization ensures consistent state updates</li>
      <li>Partition communication is thread-safe through channels</li>
      </ul>
      <div class="sourceCode" id="cb69"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionCoordinator <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>    Iterators            <span class="op">[]*</span>StateIterator</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>    Shared               <span class="op">*</span>IteratorInputMessage</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     TimestepFunction</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    TerminationCondition TerminationCondition</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewPartitionCoordinator"></a></p>
      <h3 id="func-newpartitioncoordinator">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L162-L165">NewPartitionCoordinator</a></h3>
      <div class="sourceCode" id="cb70"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewPartitionCoordinator<span class="op">(</span>settings <span class="op">*</span>Settings<span class="op">,</span> implementations <span class="op">*</span>Implementations<span class="op">)</span> <span class="op">*</span>PartitionCoordinator</span></code></pre></div>
      <p>NewPartitionCoordinator wires Settings and Implementations into
      a runnable coordinator with initial state/time histories and
      channels.</p>
      <p><a name="PartitionCoordinator.ReadyToTerminate"></a></p>
      <h3 id="func-partitioncoordinator-readytoterminate">func
      (*PartitionCoordinator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L143">ReadyToTerminate</a></h3>
      <div class="sourceCode" id="cb71"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> ReadyToTerminate<span class="op">()</span> <span class="dt">bool</span></span></code></pre></div>
      <p>ReadyToTerminate returns whether the TerminationCondition is
      met.</p>
      <p><a name="PartitionCoordinator.RequestMoreIterations"></a></p>
      <h3 id="func-partitioncoordinator-requestmoreiterations">func
      (*PartitionCoordinator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L80">RequestMoreIterations</a></h3>
      <div class="sourceCode" id="cb72"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> RequestMoreIterations<span class="op">(</span>wg <span class="op">*</span>sync<span class="op">.</span>WaitGroup<span class="op">)</span></span></code></pre></div>
      <p>RequestMoreIterations spawns a goroutine per partition to run
      ReceiveAndIteratePending.</p>
      <p><a name="PartitionCoordinator.Run"></a></p>
      <h3 id="func-partitioncoordinator-run">func
      (*PartitionCoordinator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L151">Run</a></h3>
      <div class="sourceCode" id="cb73"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> Run<span class="op">()</span></span></code></pre></div>
      <p>Run advances by repeatedly calling Step until termination.</p>
      <p><a name="PartitionCoordinator.Step"></a></p>
      <h3 id="func-partitioncoordinator-step">func
      (*PartitionCoordinator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L126">Step</a></h3>
      <div class="sourceCode" id="cb74"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> Step<span class="op">(</span>wg <span class="op">*</span>sync<span class="op">.</span>WaitGroup<span class="op">)</span></span></code></pre></div>
      <p>Step performs one simulation tick: compute dt, request
      iterations, then apply state/time updates.</p>
      <p><a name="PartitionCoordinator.UpdateHistory"></a></p>
      <h3 id="func-partitioncoordinator-updatehistory">func
      (*PartitionCoordinator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/coordinator.go#L98">UpdateHistory</a></h3>
      <div class="sourceCode" id="cb75"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>c <span class="op">*</span>PartitionCoordinator<span class="op">)</span> UpdateHistory<span class="op">(</span>wg <span class="op">*</span>sync<span class="op">.</span>WaitGroup<span class="op">)</span></span></code></pre></div>
      <p>UpdateHistory spawns a goroutine per partition to run
      UpdateHistory and shifts time history forward, adding
      NextIncrement to t[0].</p>
      <p><a name="PartitionState"></a></p>
      <h2 id="type-partitionstate">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L24-L31">PartitionState</a></h2>
      <div class="sourceCode" id="cb76"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> PartitionState <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    CumulativeTimesteps <span class="dt">float64</span>   <span class="st">`protobuf:&quot;fixed64,1,opt,name=cumulative_timesteps,json=cumulativeTimesteps,proto3&quot; json:&quot;cumulative_timesteps,omitempty&quot;`</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    PartitionName       <span class="dt">string</span>    <span class="st">`protobuf:&quot;bytes,2,opt,name=partition_name,json=partitionName,proto3&quot; json:&quot;partition_name,omitempty&quot;`</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>    State               <span class="op">[]</span><span class="dt">float64</span> <span class="st">`protobuf:&quot;fixed64,3,rep,packed,name=state,proto3&quot; json:&quot;state,omitempty&quot;`</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="PartitionState.Descriptor"></a></p>
      <h3 id="func-partitionstate-descriptor">func (*PartitionState) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L59">Descriptor</a></h3>
      <div class="sourceCode" id="cb77"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(*</span>PartitionState<span class="op">)</span> Descriptor<span class="op">()</span> <span class="op">([]</span><span class="dt">byte</span><span class="op">,</span> <span class="op">[]</span><span class="dt">int</span><span class="op">)</span></span></code></pre></div>
      <p>Deprecated: Use PartitionState.ProtoReflect.Descriptor
      instead.</p>
      <p><a name="PartitionState.GetCumulativeTimesteps"></a></p>
      <h3 id="func-partitionstate-getcumulativetimesteps">func
      (*PartitionState) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L63">GetCumulativeTimesteps</a></h3>
      <div class="sourceCode" id="cb78"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> GetCumulativeTimesteps<span class="op">()</span> <span class="dt">float64</span></span></code></pre></div>
      <p><a name="PartitionState.GetPartitionName"></a></p>
      <h3 id="func-partitionstate-getpartitionname">func
      (*PartitionState) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L70">GetPartitionName</a></h3>
      <div class="sourceCode" id="cb79"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> GetPartitionName<span class="op">()</span> <span class="dt">string</span></span></code></pre></div>
      <p><a name="PartitionState.GetState"></a></p>
      <h3 id="func-partitionstate-getstate">func (*PartitionState) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L77">GetState</a></h3>
      <div class="sourceCode" id="cb80"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> GetState<span class="op">()</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p><a name="PartitionState.ProtoMessage"></a></p>
      <h3 id="func-partitionstate-protomessage">func (*PartitionState)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L44">ProtoMessage</a></h3>
      <div class="sourceCode" id="cb81"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(*</span>PartitionState<span class="op">)</span> ProtoMessage<span class="op">()</span></span></code></pre></div>
      <p><a name="PartitionState.ProtoReflect"></a></p>
      <h3 id="func-partitionstate-protoreflect">func (*PartitionState)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L46">ProtoReflect</a></h3>
      <div class="sourceCode" id="cb82"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> ProtoReflect<span class="op">()</span> protoreflect<span class="op">.</span>Message</span></code></pre></div>
      <p><a name="PartitionState.Reset"></a></p>
      <h3 id="func-partitionstate-reset">func (*PartitionState) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L33">Reset</a></h3>
      <div class="sourceCode" id="cb83"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> Reset<span class="op">()</span></span></code></pre></div>
      <p><a name="PartitionState.String"></a></p>
      <h3 id="func-partitionstate-string">func (*PartitionState) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/partition_state.pb.go#L40">String</a></h3>
      <div class="sourceCode" id="cb84"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>x <span class="op">*</span>PartitionState<span class="op">)</span> String<span class="op">()</span> <span class="dt">string</span></span></code></pre></div>
      <p><a name="Settings"></a></p>
      <h2 id="type-settings">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L33-L37">Settings</a></h2>
      <p>Settings is the YAML-loadable top-level simulation
      configuration.</p>
      <div class="sourceCode" id="cb85"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> Settings <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>    Iterations            <span class="op">[]</span>IterationSettings <span class="st">`yaml:&quot;iterations&quot;`</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    InitTimeValue         <span class="dt">float64</span>             <span class="st">`yaml:&quot;init_time_value&quot;`</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    TimestepsHistoryDepth <span class="dt">int</span>                 <span class="st">`yaml:&quot;timesteps_history_depth&quot;`</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="LoadSettingsFromYaml"></a></p>
      <h3 id="func-loadsettingsfromyaml">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/loaders.go#L13">LoadSettingsFromYaml</a></h3>
      <div class="sourceCode" id="cb86"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> LoadSettingsFromYaml<span class="op">(</span>path <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>Settings</span></code></pre></div>
      <p>LoadSettingsFromYaml loads Settings from a YAML file path.</p>
      <p>Usage hints:</p>
      <ul>
      <li>Calls Init to populate missing defaults after
      unmarshalling.</li>
      </ul>
      <p><a name="Settings.Init"></a></p>
      <h3 id="func-settings-init">func (*Settings) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L41">Init</a></h3>
      <div class="sourceCode" id="cb87"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>Settings<span class="op">)</span> Init<span class="op">()</span></span></code></pre></div>
      <p>Init fills in defaults and ensures maps are initialised. Call
      immediately after unmarshalling from YAML.</p>
      <p><a name="SimulationConfig"></a></p>
      <h2 id="type-simulationconfig">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L105-L111">SimulationConfig</a></h2>
      <p>SimulationConfig defines additional run-level
      configuration.</p>
      <div class="sourceCode" id="cb88"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> SimulationConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    OutputCondition      OutputCondition</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    OutputFunction       OutputFunction</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>    TerminationCondition TerminationCondition</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     TimestepFunction</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>    InitTimeValue        <span class="dt">float64</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="SimulationConfigStrings"></a></p>
      <h2 id="type-simulationconfigstrings">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L115-L121">SimulationConfigStrings</a></h2>
      <p>SimulationConfigStrings is the YAML-loadable version of
      SimulationConfig, referring to implementations by type names for
      templating.</p>
      <div class="sourceCode" id="cb89"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> SimulationConfigStrings <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>    OutputCondition      <span class="dt">string</span>  <span class="st">`yaml:&quot;output_condition&quot;`</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    OutputFunction       <span class="dt">string</span>  <span class="st">`yaml:&quot;output_function&quot;`</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    TerminationCondition <span class="dt">string</span>  <span class="st">`yaml:&quot;termination_condition&quot;`</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>    TimestepFunction     <span class="dt">string</span>  <span class="st">`yaml:&quot;timestep_function&quot;`</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>    InitTimeValue        <span class="dt">float64</span> <span class="st">`yaml:&quot;init_time_value&quot;`</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="LoadSimulationConfigStringsFromYaml"></a></p>
      <h3 id="func-loadsimulationconfigstringsfromyaml">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/loaders.go#L46">LoadSimulationConfigStringsFromYaml</a></h3>
      <div class="sourceCode" id="cb90"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> LoadSimulationConfigStringsFromYaml<span class="op">(</span>path <span class="dt">string</span><span class="op">)</span> <span class="op">*</span>SimulationConfigStrings</span></code></pre></div>
      <p>LoadSimulationConfigStringsFromYaml loads
      SimulationConfigStrings from YAML.</p>
      <p><a name="StateHistory"></a></p>
      <h2 id="type-statehistory">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L12-L20">StateHistory</a></h2>
      <p>StateHistory is a rolling window of state vectors.</p>
      <p>Usage hints:</p>
      <ul>
      <li>Values holds rows of state (row 0 is most recent by
      convention).</li>
      <li>Use GetNextStateRowToUpdate when updating in multi-row
      histories.</li>
      </ul>
      <div class="sourceCode" id="cb91"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateHistory <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// each row is a different state in the history, by convention,</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// starting with the most recent at index = 0</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    Values <span class="op">*</span>mat<span class="op">.</span>Dense</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// should be of length = StateWidth</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>    NextValues        <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>    StateWidth        <span class="dt">int</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>    StateHistoryDepth <span class="dt">int</span></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="StateHistory.CopyStateRow"></a></p>
      <h3 id="func-statehistory-copystaterow">func (*StateHistory) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L23">CopyStateRow</a></h3>
      <div class="sourceCode" id="cb92"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateHistory<span class="op">)</span> CopyStateRow<span class="op">(</span>index <span class="dt">int</span><span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p>CopyStateRow copies a row from the state history given the
      index.</p>
      <p><a name="StateHistory.GetNextStateRowToUpdate"></a></p>
      <h3 id="func-statehistory-getnextstaterowtoupdate">func
      (*StateHistory) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/histories.go#L32">GetNextStateRowToUpdate</a></h3>
      <div class="sourceCode" id="cb93"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateHistory<span class="op">)</span> GetNextStateRowToUpdate<span class="op">()</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p>GetNextStateRowToUpdate determines whether or not it is
      necessary to copy the previous row or simply expose it based on
      whether a history longer than 1 is needed.</p>
      <p><a name="StateIterator"></a></p>
      <h2 id="type-stateiterator">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L146-L153">StateIterator</a></h2>
      <p>StateIterator runs an Iteration for a partition on a goroutine
      and manages reads/writes to history and output.</p>
      <div class="sourceCode" id="cb94"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateIterator <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>    Iteration       Iteration</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>    Params          Params</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>    Partition       NamedPartitionIndex</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>    ValueChannels   StateValueChannels</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>    OutputCondition OutputCondition</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>    OutputFunction  OutputFunction</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewStateIterator"></a></p>
      <h3 id="func-newstateiterator">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L210-L220">NewStateIterator</a></h3>
      <div class="sourceCode" id="cb95"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewStateIterator<span class="op">(</span>iteration Iteration<span class="op">,</span> params Params<span class="op">,</span> partitionName <span class="dt">string</span><span class="op">,</span> partitionIndex <span class="dt">int</span><span class="op">,</span> valueChannels StateValueChannels<span class="op">,</span> outputCondition OutputCondition<span class="op">,</span> outputFunction OutputFunction<span class="op">,</span> initState <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> initTime <span class="dt">float64</span><span class="op">)</span> <span class="op">*</span>StateIterator</span></code></pre></div>
      <p>NewStateIterator creates a StateIterator and may emit initial
      output if the condition is met by the initial state/time.</p>
      <p><a name="StateIterator.Iterate"></a></p>
      <h3 id="func-stateiterator-iterate">func (*StateIterator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L157-L160">Iterate</a></h3>
      <div class="sourceCode" id="cb96"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateIterator<span class="op">)</span> Iterate<span class="op">(</span>stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p>Iterate runs the Iteration and optionally triggers output if
      the condition is met for the new state/time.</p>
      <p><a name="StateIterator.ReceiveAndIteratePending"></a></p>
      <h3 id="func-stateiterator-receiveanditeratepending">func
      (*StateIterator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L178-L180">ReceiveAndIteratePending</a></h3>
      <div class="sourceCode" id="cb97"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateIterator<span class="op">)</span> ReceiveAndIteratePending<span class="op">(</span>inputChannel <span class="op">&lt;-</span><span class="kw">chan</span> <span class="op">*</span>IteratorInputMessage<span class="op">)</span></span></code></pre></div>
      <p>ReceiveAndIteratePending listens for an IteratorInputMessage,
      updates upstream-driven params, runs Iterate, and stores a pending
      state update.</p>
      <p><a name="StateIterator.UpdateHistory"></a></p>
      <h3 id="func-stateiterator-updatehistory">func (*StateIterator) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L195">UpdateHistory</a></h3>
      <div class="sourceCode" id="cb98"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateIterator<span class="op">)</span> UpdateHistory<span class="op">(</span>inputChannel <span class="op">&lt;-</span><span class="kw">chan</span> <span class="op">*</span>IteratorInputMessage<span class="op">)</span></span></code></pre></div>
      <p>UpdateHistory applies the pending state update to the partition
      history.</p>
      <p><a name="StateTimeStorage"></a></p>
      <h2 id="type-statetimestorage">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L65-L70">StateTimeStorage</a></h2>
      <p>StateTimeStorage provides thread-safe storage for simulation
      time series data with minimal contention and efficient access
      patterns.</p>
      <p>StateTimeStorage is designed to handle concurrent access from
      multiple simulation partitions while maintaining data consistency
      and performance. It uses a mutex-protected design optimized for
      the common case of appending new data points during simulation
      execution.</p>
      <p>Data Organization:</p>
      <ul>
      <li>Time series are organized by partition name</li>
      <li>Each partition can have multiple state dimensions</li>
      <li>Time axis is shared across all partitions</li>
      <li>Data is stored in row-major format for efficient access</li>
      </ul>
      <p>Thread Safety:</p>
      <ul>
      <li>ConcurrentAppend is safe for concurrent use from multiple
      goroutines</li>
      <li>GetValues/GetTimes are safe for concurrent reads</li>
      <li>SetValues/SetTimes should not be called concurrently with
      appends</li>
      <li>Internal mutex protects against race conditions</li>
      </ul>
      <p>Performance Characteristics:</p>
      <ul>
      <li>O(1) lookup by partition name using hash map</li>
      <li>O(1) append operations with minimal locking</li>
      <li>Memory usage: O(total_samples * state_dimensions)</li>
      <li>Efficient for high-frequency data collection</li>
      </ul>
      <p>Usage Patterns:</p>
      <ul>
      <li>Real-time data collection during simulation runs</li>
      <li>Batch data loading from external sources</li>
      <li>Result storage for post-simulation analysis</li>
      <li>Intermediate storage for multi-stage simulations</li>
      </ul>
      <p>Example Usage:</p>
      <div class="sourceCode" id="cb99"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>storage <span class="op">:=</span> NewStateTimeStorage<span class="op">()</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="co">// Concurrent appends from multiple partitions</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="cf">go</span> <span class="kw">func</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    storage<span class="op">.</span>ConcurrentAppend<span class="op">(</span><span class="st">&quot;prices&quot;</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">,</span> <span class="op">[]</span><span class="dt">float64</span><span class="op">{</span><span class="fl">100.0</span><span class="op">,</span> <span class="fl">101.0</span><span class="op">})</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a><span class="op">}()</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="cf">go</span> <span class="kw">func</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>    storage<span class="op">.</span>ConcurrentAppend<span class="op">(</span><span class="st">&quot;volumes&quot;</span><span class="op">,</span> <span class="fl">1.0</span><span class="op">,</span> <span class="op">[]</span><span class="dt">float64</span><span class="op">{</span><span class="fl">1000.0</span><span class="op">})</span></span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a><span class="op">}()</span></span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a><span class="co">// Retrieve data after simulation</span></span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>priceData <span class="op">:=</span> storage<span class="op">.</span>GetValues<span class="op">(</span><span class="st">&quot;prices&quot;</span><span class="op">)</span></span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>timeData <span class="op">:=</span> storage<span class="op">.</span>GetTimes<span class="op">()</span></span></code></pre></div>
      <p>Memory Management:</p>
      <ul>
      <li>Automatic memory allocation for new partitions</li>
      <li>Efficient storage of sparse time series</li>
      <li>No automatic cleanup (caller responsible for memory
      management)</li>
      </ul>
      <p>Error Handling:</p>
      <ul>
      <li>GetValues panics if partition name is not found</li>
      <li>Provides helpful error messages with available partition
      names</li>
      <li>ConcurrentAppend handles time deduplication automatically</li>
      </ul>
      <div class="sourceCode" id="cb100"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateTimeStorage <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewStateTimeStorage"></a></p>
      <h3 id="func-newstatetimestorage">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L152">NewStateTimeStorage</a></h3>
      <div class="sourceCode" id="cb101"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewStateTimeStorage<span class="op">()</span> <span class="op">*</span>StateTimeStorage</span></code></pre></div>
      <p>NewStateTimeStorage constructs a new StateTimeStorage.</p>
      <p><a name="StateTimeStorage.ConcurrentAppend"></a></p>
      <h3 id="func-statetimestorage-concurrentappend">func
      (*StateTimeStorage) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L121-L125">ConcurrentAppend</a></h3>
      <div class="sourceCode" id="cb102"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> ConcurrentAppend<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> time <span class="dt">float64</span><span class="op">,</span> values <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p>ConcurrentAppend appends values for name and updates the time
      axis at most once per unique timestamp. Safe for concurrent
      use.</p>
      <p><a name="StateTimeStorage.GetIndex"></a></p>
      <h3 id="func-statetimestorage-getindex">func (*StateTimeStorage)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L73">GetIndex</a></h3>
      <div class="sourceCode" id="cb103"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetIndex<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="dt">int</span></span></code></pre></div>
      <p>GetIndex returns or creates the index for a name.</p>
      <p><a name="StateTimeStorage.GetNames"></a></p>
      <h3 id="func-statetimestorage-getnames">func (*StateTimeStorage)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L85">GetNames</a></h3>
      <div class="sourceCode" id="cb104"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetNames<span class="op">()</span> <span class="op">[]</span><span class="dt">string</span></span></code></pre></div>
      <p>GetNames returns all partition names present in the store.</p>
      <p><a name="StateTimeStorage.GetTimes"></a></p>
      <h3 id="func-statetimestorage-gettimes">func (*StateTimeStorage)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L110">GetTimes</a></h3>
      <div class="sourceCode" id="cb105"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetTimes<span class="op">()</span> <span class="op">[]</span><span class="dt">float64</span></span></code></pre></div>
      <p>GetTimes returns the time axis.</p>
      <p><a name="StateTimeStorage.GetValues"></a></p>
      <h3 id="func-statetimestorage-getvalues">func (*StateTimeStorage)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L94">GetValues</a></h3>
      <div class="sourceCode" id="cb106"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> GetValues<span class="op">(</span>name <span class="dt">string</span><span class="op">)</span> <span class="op">[][]</span><span class="dt">float64</span></span></code></pre></div>
      <p>GetValues returns all time series for name, panicking if
      absent.</p>
      <p><a name="StateTimeStorage.SetTimes"></a></p>
      <h3 id="func-statetimestorage-settimes">func (*StateTimeStorage)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L115">SetTimes</a></h3>
      <div class="sourceCode" id="cb107"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> SetTimes<span class="op">(</span>times <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p>SetTimes replaces the time axis.</p>
      <p><a name="StateTimeStorage.SetValues"></a></p>
      <h3 id="func-statetimestorage-setvalues">func (*StateTimeStorage)
      <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/storage.go#L105">SetValues</a></h3>
      <div class="sourceCode" id="cb108"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateTimeStorage<span class="op">)</span> SetValues<span class="op">(</span>name <span class="dt">string</span><span class="op">,</span> values <span class="op">[][]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p>SetValues replaces the entire series for name.</p>
      <p><a name="StateTimeStorageOutputFunction"></a></p>
      <h2 id="type-statetimestorageoutputfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L43-L45">StateTimeStorageOutputFunction</a></h2>
      <p>StateTimeStorageOutputFunction stores output into
      StateTimeStorage when the condition is met.</p>
      <div class="sourceCode" id="cb109"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateTimeStorageOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>    Store <span class="op">*</span>StateTimeStorage</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="StateTimeStorageOutputFunction.Output"></a></p>
      <h3 id="func-statetimestorageoutputfunction-output">func
      (*StateTimeStorageOutputFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L47-L51">Output</a></h3>
      <div class="sourceCode" id="cb110"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>f <span class="op">*</span>StateTimeStorageOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p><a name="StateValueChannels"></a></p>
      <h2 id="type-statevaluechannels">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L108-L111">StateValueChannels</a></h2>
      <p>StateValueChannels provides upstream/downstream channels for
      inter-iterator communication.</p>
      <div class="sourceCode" id="cb111"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StateValueChannels <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>    Upstreams  <span class="kw">map</span><span class="op">[</span><span class="dt">string</span><span class="op">]*</span>UpstreamStateValues</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>    Downstream <span class="op">*</span>DownstreamStateValues</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="StateValueChannels.BroadcastDownstream"></a></p>
      <h3 id="func-statevaluechannels-broadcastdownstream">func
      (*StateValueChannels) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L131">BroadcastDownstream</a></h3>
      <div class="sourceCode" id="cb112"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateValueChannels<span class="op">)</span> BroadcastDownstream<span class="op">(</span>stateValues <span class="op">[]</span><span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p>BroadcastDownstream sends state values to all configured
      downstream copies.</p>
      <p><a name="StateValueChannels.UpdateUpstreamParams"></a></p>
      <h3 id="func-statevaluechannels-updateupstreamparams">func
      (*StateValueChannels) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L115">UpdateUpstreamParams</a></h3>
      <div class="sourceCode" id="cb113"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StateValueChannels<span class="op">)</span> UpdateUpstreamParams<span class="op">(</span>params <span class="op">*</span>Params<span class="op">)</span></span></code></pre></div>
      <p>UpdateUpstreamParams updates Params with values received from
      upstream channels.</p>
      <p><a name="StdoutOutputFunction"></a></p>
      <h2 id="type-stdoutoutputfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L31">StdoutOutputFunction</a></h2>
      <p>StdoutOutputFunction outputs the state to the terminal.</p>
      <div class="sourceCode" id="cb114"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> StdoutOutputFunction <span class="kw">struct</span><span class="op">{}</span></span></code></pre></div>
      <p><a name="StdoutOutputFunction.Output"></a></p>
      <h3 id="func-stdoutoutputfunction-output">func
      (*StdoutOutputFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L33-L37">Output</a></h3>
      <div class="sourceCode" id="cb115"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>s <span class="op">*</span>StdoutOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p><a name="TerminationCondition"></a></p>
      <h2 id="type-terminationcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L4-L9">TerminationCondition</a></h2>
      <p>TerminationCondition decides when the simulation should
      end.</p>
      <div class="sourceCode" id="cb116"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> TerminationCondition <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>    Terminate<span class="op">(</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>        stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>        timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">,</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="dt">bool</span></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="TimeElapsedTerminationCondition"></a></p>
      <h2 id="type-timeelapsedterminationcondition">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L24-L26">TimeElapsedTerminationCondition</a></h2>
      <p>TimeElapsedTerminationCondition terminates after
      MaxTimeElapsed.</p>
      <div class="sourceCode" id="cb117"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> TimeElapsedTerminationCondition <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>    MaxTimeElapsed <span class="dt">float64</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="TimeElapsedTerminationCondition.Terminate"></a></p>
      <h3 id="func-timeelapsedterminationcondition-terminate">func
      (*TimeElapsedTerminationCondition) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/termination.go#L28-L31">Terminate</a></h3>
      <div class="sourceCode" id="cb118"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>t <span class="op">*</span>TimeElapsedTerminationCondition<span class="op">)</span> Terminate<span class="op">(</span>stateHistories <span class="op">[]*</span>StateHistory<span class="op">,</span> timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">)</span> <span class="dt">bool</span></span></code></pre></div>
      <p><a name="TimestepFunction"></a></p>
      <h2 id="type-timestepfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/timesteps.go#L10-L14">TimestepFunction</a></h2>
      <p>TimestepFunction computes the next time increment.</p>
      <div class="sourceCode" id="cb119"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> TimestepFunction <span class="kw">interface</span> <span class="op">{</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>    NextIncrement<span class="op">(</span></span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>        timestepsHistory <span class="op">*</span>CumulativeTimestepsHistory<span class="op">,</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="dt">float64</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="UpstreamConfig"></a></p>
      <h2 id="type-upstreamconfig">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/configs.go#L11-L14">UpstreamConfig</a></h2>
      <p>UpstreamConfig is the YAML-loadable representation of a slice
      of data from the output of a partition which is computationally
      upstream.</p>
      <div class="sourceCode" id="cb120"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> UpstreamConfig <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>    Upstream <span class="dt">int</span>   <span class="st">`yaml:&quot;upstream&quot;`</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>    Indices  <span class="op">[]</span><span class="dt">int</span> <span class="st">`yaml:&quot;indices,omitempty&quot;`</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="UpstreamStateValues"></a></p>
      <h2 id="type-upstreamstatevalues">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/iterator.go#L94-L97">UpstreamStateValues</a></h2>
      <p>UpstreamStateValues contains information to receive state
      values from an upstream iterator via channel.</p>
      <div class="sourceCode" id="cb121"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> UpstreamStateValues <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>    Channel <span class="kw">chan</span> <span class="op">[]</span><span class="dt">float64</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>    Indices <span class="op">[]</span><span class="dt">int</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="WebsocketOutputFunction"></a></p>
      <h2 id="type-websocketoutputfunction">type <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L170-L173">WebsocketOutputFunction</a></h2>
      <p>WebsocketOutputFunction serialises and sends outputs via a
      websocket connection when the condition is met.</p>
      <div class="sourceCode" id="cb122"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> WebsocketOutputFunction <span class="kw">struct</span> <span class="op">{</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">// contains filtered or unexported fields</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
      <p><a name="NewWebsocketOutputFunction"></a></p>
      <h3 id="func-newwebsocketoutputfunction">func <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L214-L217">NewWebsocketOutputFunction</a></h3>
      <div class="sourceCode" id="cb123"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> NewWebsocketOutputFunction<span class="op">(</span>connection <span class="op">*</span>websocket<span class="op">.</span>Conn<span class="op">,</span> mutex <span class="op">*</span>sync<span class="op">.</span>Mutex<span class="op">)</span> <span class="op">*</span>WebsocketOutputFunction</span></code></pre></div>
      <p>NewWebsocketOutputFunction constructs a WebsocketOutputFunction
      with a connection and a mutex for safe concurrent writes.</p>
      <p><a name="WebsocketOutputFunction.Output"></a></p>
      <h3 id="func-websocketoutputfunction-output">func
      (*WebsocketOutputFunction) <a
      href="https://github.com/umbralcalc/stochadex/blob/main/pkg/simulator/output.go#L175-L179">Output</a></h3>
      <div class="sourceCode" id="cb124"><pre
      class="sourceCode go"><code class="sourceCode go"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="op">(</span>w <span class="op">*</span>WebsocketOutputFunction<span class="op">)</span> Output<span class="op">(</span>partitionName <span class="dt">string</span><span class="op">,</span> state <span class="op">[]</span><span class="dt">float64</span><span class="op">,</span> cumulativeTimesteps <span class="dt">float64</span><span class="op">)</span></span></code></pre></div>
      <p>Generated by <a
      href="https://github.com/princjef/gomarkdoc">gomarkdoc</a></p>
    </div>
  </main>

  <!-- Theme toggle -->
  <button class="theme-toggle" onclick="toggleTheme()" title="Toggle dark mode">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </button>

  <script>
    // Mobile sidebar toggle
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('open');
    }

    // Theme toggle
    function toggleTheme() {
      document.body.classList.toggle('dark-theme');
      localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
    }

    // Load saved theme
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-theme');
    }

    // Set active navigation item
    document.addEventListener('DOMContentLoaded', () => {
      const currentPath = window.location.pathname;
      const navLinks = document.querySelectorAll('.nav-links a');
      navLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && currentPath.includes(href.replace('../', ''))) {
          link.classList.add('active');
        }
      });
    });
  </script>
</body>
</html>
