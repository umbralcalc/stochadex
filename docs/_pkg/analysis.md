---
title: "analysis"
logo: true
---
<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# analysis

```go
import "github.com/umbralcalc/stochadex/pkg/analysis"
```

## Index

- [func AddPartitionsToStateTimeStorage\(storage \*simulator.StateTimeStorage, partitions \[\]\*simulator.PartitionConfig, windowSizeByPartition map\[string\]int\) \*simulator.StateTimeStorage](<#AddPartitionsToStateTimeStorage>)
- [func GetDataFrameFromPartition\(storage \*simulator.StateTimeStorage, partitionName string\) dataframe.DataFrame](<#GetDataFrameFromPartition>)
- [func NewGroupedAggregationPartition\(aggregation func\(defaultValues \[\]float64, outputIndexByGroup map\[string\]int, groupings map\[string\]\[\]float64, weightings map\[string\]\[\]float64\) \[\]float64, applied AppliedAggregation, storage \*GroupedStateTimeStorage\) \*simulator.PartitionConfig](<#NewGroupedAggregationPartition>)
- [func NewLikelihoodComparisonPartition\(applied AppliedLikelihoodComparison, storage \*simulator.StateTimeStorage\) \*simulator.PartitionConfig](<#NewLikelihoodComparisonPartition>)
- [func NewLikelihoodMeanFunctionFitPartition\(applied AppliedLikelihoodMeanFunctionFit, storage \*simulator.StateTimeStorage\) \*simulator.PartitionConfig](<#NewLikelihoodMeanFunctionFitPartition>)
- [func NewLinePlotFromDataFrame\(df \*dataframe.DataFrame, xAxis string, yAxis string, groupBy ...string\) \*charts.Line](<#NewLinePlotFromDataFrame>)
- [func NewLinePlotFromPartition\(storage \*simulator.StateTimeStorage, xRef DataRef, yRefs \[\]DataRef, fillYRefs \[\]FillLineRef\) \*charts.Line](<#NewLinePlotFromPartition>)
- [func NewPosteriorEstimationPartitions\(applied AppliedPosteriorEstimation, storage \*simulator.StateTimeStorage\) \[\]\*simulator.PartitionConfig](<#NewPosteriorEstimationPartitions>)
- [func NewScatterPlotFromDataFrame\(df \*dataframe.DataFrame, xAxis string, yAxis string, groupBy ...string\) \*charts.Scatter](<#NewScatterPlotFromDataFrame>)
- [func NewScatterPlotFromPartition\(storage \*simulator.StateTimeStorage, xRef DataRef, yRefs \[\]DataRef\) \*charts.Scatter](<#NewScatterPlotFromPartition>)
- [func NewStateTimeStorageFromCsv\(filePath string, timeColumn int, stateColumnsByPartition map\[string\]\[\]int, skipHeaderRow bool\) \(\*simulator.StateTimeStorage, error\)](<#NewStateTimeStorageFromCsv>)
- [func NewStateTimeStorageFromJsonLogEntries\(filename string\) \(\*simulator.StateTimeStorage, error\)](<#NewStateTimeStorageFromJsonLogEntries>)
- [func NewStateTimeStorageFromPartitions\(partitions \[\]\*simulator.PartitionConfig, termination simulator.TerminationCondition, timestep simulator.TimestepFunction, initTime float64\) \*simulator.StateTimeStorage](<#NewStateTimeStorageFromPartitions>)
- [func NewStateTimeStorageFromPostgresDb\(db \*PostgresDb, partitionNames \[\]string, startTime float64, endTime float64\) \(\*simulator.StateTimeStorage, error\)](<#NewStateTimeStorageFromPostgresDb>)
- [func NewVectorCovariancePartition\(mean DataRef, applied AppliedAggregation, storage \*simulator.StateTimeStorage\) \*simulator.PartitionConfig](<#NewVectorCovariancePartition>)
- [func NewVectorMeanPartition\(applied AppliedAggregation, storage \*simulator.StateTimeStorage\) \*simulator.PartitionConfig](<#NewVectorMeanPartition>)
- [func NewVectorVariancePartition\(mean DataRef, applied AppliedAggregation, storage \*simulator.StateTimeStorage\) \*simulator.PartitionConfig](<#NewVectorVariancePartition>)
- [func SetPartitionFromDataFrame\(storage \*simulator.StateTimeStorage, partitionName string, df dataframe.DataFrame, overwriteTime bool\)](<#SetPartitionFromDataFrame>)
- [func WriteStateTimeStorageToPostgresDb\(db \*PostgresDb, storage \*simulator.StateTimeStorage\)](<#WriteStateTimeStorageToPostgresDb>)
- [type AppliedAggregation](<#AppliedAggregation>)
  - [func \(a \*AppliedAggregation\) GetKernel\(\) kernels.IntegrationKernel](<#AppliedAggregation.GetKernel>)
- [type AppliedGrouping](<#AppliedGrouping>)
- [type AppliedLikelihoodComparison](<#AppliedLikelihoodComparison>)
- [type AppliedLikelihoodMeanFunctionFit](<#AppliedLikelihoodMeanFunctionFit>)
- [type AppliedPosteriorEstimation](<#AppliedPosteriorEstimation>)
- [type ColourGenerator](<#ColourGenerator>)
  - [func \(cg \*ColourGenerator\) Next\(\) string](<#ColourGenerator.Next>)
- [type DataPlotting](<#DataPlotting>)
- [type DataRef](<#DataRef>)
  - [func \(d \*DataRef\) GetFromStorage\(storage \*simulator.StateTimeStorage\) \[\]\[\]float64](<#DataRef.GetFromStorage>)
  - [func \(d \*DataRef\) GetSeriesNames\(storage \*simulator.StateTimeStorage\) \[\]string](<#DataRef.GetSeriesNames>)
  - [func \(d \*DataRef\) GetTimeIndexFromStorage\(storage \*simulator.StateTimeStorage, timeIndex int\) \[\]float64](<#DataRef.GetTimeIndexFromStorage>)
  - [func \(d \*DataRef\) GetValueIndices\(storage \*simulator.StateTimeStorage\) \[\]int](<#DataRef.GetValueIndices>)
- [type FillLineRef](<#FillLineRef>)
- [type GroupedStateTimeStorage](<#GroupedStateTimeStorage>)
  - [func NewGroupedStateTimeStorage\(applied AppliedGrouping, storage \*simulator.StateTimeStorage\) \*GroupedStateTimeStorage](<#NewGroupedStateTimeStorage>)
  - [func \(g \*GroupedStateTimeStorage\) GetAcceptedValueGroupLabels\(\) \[\]string](<#GroupedStateTimeStorage.GetAcceptedValueGroupLabels>)
  - [func \(g \*GroupedStateTimeStorage\) GetAcceptedValueGroups\(tupIndex int\) \[\]float64](<#GroupedStateTimeStorage.GetAcceptedValueGroups>)
  - [func \(g \*GroupedStateTimeStorage\) GetAcceptedValueGroupsLength\(\) int](<#GroupedStateTimeStorage.GetAcceptedValueGroupsLength>)
  - [func \(g \*GroupedStateTimeStorage\) GetGroupTupleLength\(\) int](<#GroupedStateTimeStorage.GetGroupTupleLength>)
  - [func \(g \*GroupedStateTimeStorage\) GetGroupingPartition\(tupIndex int\) string](<#GroupedStateTimeStorage.GetGroupingPartition>)
  - [func \(g \*GroupedStateTimeStorage\) GetGroupingValueIndices\(tupIndex int\) \[\]float64](<#GroupedStateTimeStorage.GetGroupingValueIndices>)
  - [func \(g \*GroupedStateTimeStorage\) GetPrecision\(\) int](<#GroupedStateTimeStorage.GetPrecision>)
- [type IndexRange](<#IndexRange>)
- [type LikelihoodMeanGradient](<#LikelihoodMeanGradient>)
- [type ParameterisedModel](<#ParameterisedModel>)
  - [func \(p \*ParameterisedModel\) Init\(\)](<#ParameterisedModel.Init>)
- [type ParameterisedModelWithGradient](<#ParameterisedModelWithGradient>)
  - [func \(p \*ParameterisedModelWithGradient\) Init\(\)](<#ParameterisedModelWithGradient.Init>)
- [type PosteriorCovariance](<#PosteriorCovariance>)
- [type PosteriorLogNorm](<#PosteriorLogNorm>)
- [type PosteriorMean](<#PosteriorMean>)
- [type PosteriorSampler](<#PosteriorSampler>)
- [type PostgresDb](<#PostgresDb>)
  - [func \(p \*PostgresDb\) OpenTableConnection\(\) error](<#PostgresDb.OpenTableConnection>)
  - [func \(p \*PostgresDb\) ReadStateInRange\(partitionName string, startTime float64, endTime float64\) \(\*sql.Rows, error\)](<#PostgresDb.ReadStateInRange>)
  - [func \(p \*PostgresDb\) WriteState\(partitionName string, time float64, state \[\]float64\) error](<#PostgresDb.WriteState>)
- [type PostgresDbOutputFunction](<#PostgresDbOutputFunction>)
  - [func NewPostgresDbOutputFunction\(db \*PostgresDb\) \*PostgresDbOutputFunction](<#NewPostgresDbOutputFunction>)
  - [func \(p \*PostgresDbOutputFunction\) Output\(partitionName string, state \[\]float64, cumulativeTimesteps float64\)](<#PostgresDbOutputFunction.Output>)
- [type WindowedPartition](<#WindowedPartition>)
- [type WindowedPartitions](<#WindowedPartitions>)


<a name="AddPartitionsToStateTimeStorage"></a>

## func [AddPartitionsToStateTimeStorage](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/partitions.go#L37-L41>)

```go
func AddPartitionsToStateTimeStorage(storage *simulator.StateTimeStorage, partitions []*simulator.PartitionConfig, windowSizeByPartition map[string]int) *simulator.StateTimeStorage
```

AddPartitionsToStateTimeStorage extends the state time storage with newly generated values from the specified partitions.

<a name="GetDataFrameFromPartition"></a>

## func [GetDataFrameFromPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/dataframe.go#L15-L18>)

```go
func GetDataFrameFromPartition(storage *simulator.StateTimeStorage, partitionName string) dataframe.DataFrame
```

GetDataFrameFromPartition materializes a partition's values and times into a Gota dataframe. The first column is named "time" followed by one column per value index labeled by its integer index.

<a name="NewGroupedAggregationPartition"></a>

## func [NewGroupedAggregationPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/aggregation.go#L36-L45>)

```go
func NewGroupedAggregationPartition(aggregation func(defaultValues []float64, outputIndexByGroup map[string]int, groupings map[string][]float64, weightings map[string][]float64) []float64, applied AppliedAggregation, storage *GroupedStateTimeStorage) *simulator.PartitionConfig
```

NewGroupedAggregationPartition constructs a PartitionConfig that applies a caller\-provided grouped aggregation over historical values. Group bins and weighting are derived from the provided GroupedStateTimeStorage, and the output state vector is ordered by the accepted value groups.

<a name="NewLikelihoodComparisonPartition"></a>

## func [NewLikelihoodComparisonPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L65-L68>)

```go
func NewLikelihoodComparisonPartition(applied AppliedLikelihoodComparison, storage *simulator.StateTimeStorage) *simulator.PartitionConfig
```

NewLikelihoodComparisonPartition builds a PartitionConfig embedding an inner windowed simulation to evaluate the likelihood over a rolling window, producing a per\-step comparison score.

<a name="NewLikelihoodMeanFunctionFitPartition"></a>

## func [NewLikelihoodMeanFunctionFitPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L206-L209>)

```go
func NewLikelihoodMeanFunctionFitPartition(applied AppliedLikelihoodMeanFunctionFit, storage *simulator.StateTimeStorage) *simulator.PartitionConfig
```

NewLikelihoodMeanFunctionFitPartition builds a PartitionConfig embedding an inner simulation that runs gradient descent to fit the likelihood mean to the referenced data window.

<a name="NewLinePlotFromDataFrame"></a>

## func [NewLinePlotFromDataFrame](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/plot.go#L252-L257>)

```go
func NewLinePlotFromDataFrame(df *dataframe.DataFrame, xAxis string, yAxis string, groupBy ...string) *charts.Line
```

NewLinePlotFromDataFrame renders a line chart from a dataframe using the specified X and Y columns.

Usage hints:

- Optionally split by a single groupBy column into multiple series.

<a name="NewLinePlotFromPartition"></a>

## func [NewLinePlotFromPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/plot.go#L196-L201>)

```go
func NewLinePlotFromPartition(storage *simulator.StateTimeStorage, xRef DataRef, yRefs []DataRef, fillYRefs []FillLineRef) *charts.Line
```

NewLinePlotFromPartition renders a multi\-series line chart from storage using an X reference and one or more Y references.

Usage hints:

- yRefs may contain multiple series each; one line per series is added.
- Optional filled bands can be added via fillYRefs.

<a name="NewPosteriorEstimationPartitions"></a>

## func [NewPosteriorEstimationPartitions](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/inference.go#L54-L57>)

```go
func NewPosteriorEstimationPartitions(applied AppliedPosteriorEstimation, storage *simulator.StateTimeStorage) []*simulator.PartitionConfig
```

NewPosteriorEstimationPartitions creates a set of PartitionConfigs for an online posterior estimation process using rolling statistics.

<a name="NewScatterPlotFromDataFrame"></a>

## func [NewScatterPlotFromDataFrame](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/plot.go#L57-L62>)

```go
func NewScatterPlotFromDataFrame(df *dataframe.DataFrame, xAxis string, yAxis string, groupBy ...string) *charts.Scatter
```

NewScatterPlotFromDataFrame renders a scatter plot using columns of a dataframe.

Usage hints:

- Optionally provide a single groupBy column to split series.

<a name="NewScatterPlotFromPartition"></a>

## func [NewScatterPlotFromPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/plot.go#L18-L22>)

```go
func NewScatterPlotFromPartition(storage *simulator.StateTimeStorage, xRef DataRef, yRefs []DataRef) *charts.Scatter
```

NewScatterPlotFromPartition renders a scatter plot from storage\-backed DataRef axes.

Usage hints:

- X\-axis must reference a single series \(typically time\).
- Each DataRef in yRefs may contain multiple series; a series is added for each.

<a name="NewStateTimeStorageFromCsv"></a>

## func [NewStateTimeStorageFromCsv](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/csv.go#L16-L21>)

```go
func NewStateTimeStorageFromCsv(filePath string, timeColumn int, stateColumnsByPartition map[string][]int, skipHeaderRow bool) (*simulator.StateTimeStorage, error)
```

NewStateTimeStorageFromCsv creates a new StateTimeStorage based on data that is read in from the provided csv file and some specified columns for time and state.

<a name="NewStateTimeStorageFromJsonLogEntries"></a>

## func [NewStateTimeStorageFromJsonLogEntries](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/logs.go#L14-L16>)

```go
func NewStateTimeStorageFromJsonLogEntries(filename string) (*simulator.StateTimeStorage, error)
```

NewStateTimeStorageFromJsonLogEntries reads a file up to a given number of iterations into a simulator.StateTimeStorage struct.

<a name="NewStateTimeStorageFromPartitions"></a>

## func [NewStateTimeStorageFromPartitions](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/partitions.go#L10-L15>)

```go
func NewStateTimeStorageFromPartitions(partitions []*simulator.PartitionConfig, termination simulator.TerminationCondition, timestep simulator.TimestepFunction, initTime float64) *simulator.StateTimeStorage
```

NewStateTimeStorageFromPartitions generates a new simulator.StateTimeStorage by running a simulation with the specified partitions configured.

<a name="NewStateTimeStorageFromPostgresDb"></a>

## func [NewStateTimeStorageFromPostgresDb](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L128-L133>)

```go
func NewStateTimeStorageFromPostgresDb(db *PostgresDb, partitionNames []string, startTime float64, endTime float64) (*simulator.StateTimeStorage, error)
```

NewStateTimeStorageFromPostgresDb reads from a PostgreSQL database over a pre\-defined time interval into a simulator.StateTimeStorage struct.

<a name="NewVectorCovariancePartition"></a>

## func [NewVectorCovariancePartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/aggregation.go#L190-L194>)

```go
func NewVectorCovariancePartition(mean DataRef, applied AppliedAggregation, storage *simulator.StateTimeStorage) *simulator.PartitionConfig
```

NewVectorCovariancePartition constructs a PartitionConfig that computes the rolling windowed weighted covariance matrix of the referenced data values. Provide the corresponding rolling mean via the mean DataRef.

<a name="NewVectorMeanPartition"></a>

## func [NewVectorMeanPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/aggregation.go#L98-L101>)

```go
func NewVectorMeanPartition(applied AppliedAggregation, storage *simulator.StateTimeStorage) *simulator.PartitionConfig
```

NewVectorMeanPartition constructs a PartitionConfig that computes the rolling windowed weighted mean per\-index of the referenced data values.

<a name="NewVectorVariancePartition"></a>

## func [NewVectorVariancePartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/aggregation.go#L141-L145>)

```go
func NewVectorVariancePartition(mean DataRef, applied AppliedAggregation, storage *simulator.StateTimeStorage) *simulator.PartitionConfig
```

NewVectorVariancePartition constructs a PartitionConfig that computes the rolling windowed weighted variance per\-index of the referenced data values. Provide the corresponding rolling mean via the mean DataRef.

<a name="SetPartitionFromDataFrame"></a>

## func [SetPartitionFromDataFrame](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/dataframe.go#L41-L46>)

```go
func SetPartitionFromDataFrame(storage *simulator.StateTimeStorage, partitionName string, df dataframe.DataFrame, overwriteTime bool)
```

SetPartitionFromDataFrame updates a partition's values from a Gota dataframe with schema \[time, 0, 1, ...\]. If overwriteTime is true, the storage's time vector is replaced with the "time" column.

<a name="WriteStateTimeStorageToPostgresDb"></a>

## func [WriteStateTimeStorageToPostgresDb](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L166-L169>)

```go
func WriteStateTimeStorageToPostgresDb(db *PostgresDb, storage *simulator.StateTimeStorage)
```

WriteStateTimeStorageToPostgresDb writes all of the data in the state time storage to a PostgreSQL database.

<a name="AppliedAggregation"></a>

## type [AppliedAggregation](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/aggregation.go#L15-L20>)

AppliedAggregation describes how to aggregate a referenced dataset over time. It names the output partition, points to the source data, specifies the integration kernel \(windowing/weighting\), and provides a default fill value used when the aggregation has insufficient history.

```go
type AppliedAggregation struct {
    Name         string
    Data         DataRef
    Kernel       kernels.IntegrationKernel
    DefaultValue float64
}
```

<a name="AppliedAggregation.GetKernel"></a>

### func \(\*AppliedAggregation\) [GetKernel](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/aggregation.go#L25>)

```go
func (a *AppliedAggregation) GetKernel() kernels.IntegrationKernel
```

GetKernel returns the configured integration kernel. If none is set, it falls back to an instantaneous \(no window\) kernel so callers never need to guard against a nil kernel.

<a name="AppliedGrouping"></a>

## type [AppliedGrouping](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L9-L12>)

AppliedGrouping configures a grouping transformation on data.

```go
type AppliedGrouping struct {
    GroupBy   []DataRef
    Precision int
}
```

<a name="AppliedLikelihoodComparison"></a>

## type [AppliedLikelihoodComparison](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L55-L60>)

AppliedLikelihoodComparison configures a rolling likelihood comparison between referenced data and a model over a sliding window.

```go
type AppliedLikelihoodComparison struct {
    Name   string
    Model  ParameterisedModel
    Data   DataRef
    Window WindowedPartitions
}
```

<a name="AppliedLikelihoodMeanFunctionFit"></a>

## type [AppliedLikelihoodMeanFunctionFit](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L193-L201>)

AppliedLikelihoodMeanFunctionFit configures online fitting of the model's likelihood mean to data using a gradient function and learning rate over a finite descent schedule.

```go
type AppliedLikelihoodMeanFunctionFit struct {
    Name              string
    Model             ParameterisedModelWithGradient
    Gradient          LikelihoodMeanGradient
    Data              DataRef
    Window            WindowedPartitions
    LearningRate      float64
    DescentIterations int
}
```

<a name="AppliedPosteriorEstimation"></a>

## type [AppliedPosteriorEstimation](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/inference.go#L41-L50>)

AppliedPosteriorEstimation is the base configuration for an online inference of a simulation \(specified by partition configs\) from a referenced dataset.

```go
type AppliedPosteriorEstimation struct {
    LogNorm      PosteriorLogNorm
    Mean         PosteriorMean
    Covariance   PosteriorCovariance
    Sampler      PosteriorSampler
    Comparison   AppliedLikelihoodComparison
    PastDiscount float64
    MemoryDepth  int
    Seed         uint64
}
```

<a name="ColourGenerator"></a>

## type [ColourGenerator](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/plot.go#L140-L142>)

ColourGenerator iterates over the default ECharts categorical palette.

```go
type ColourGenerator struct {
    // contains filtered or unexported fields
}
```

<a name="ColourGenerator.Next"></a>

### func \(\*ColourGenerator\) [Next](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/plot.go#L146>)

```go
func (cg *ColourGenerator) Next() string
```

Next returns the next colour in the ECharts palette, cycling when the end is reached.

<a name="DataPlotting"></a>

## type [DataPlotting](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/data.go#L18-L21>)

DataPlotting declares optional transformations for plotting, such as treating a reference as time and restricting to a time index range.

```go
type DataPlotting struct {
    IsTime    bool
    TimeRange *IndexRange
}
```

<a name="DataRef"></a>

## type [DataRef](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/data.go#L26-L30>)

DataRef identifies a subset of data stored in StateTimeStorage. It can reference the special time axis or one or more value indices of a partition. Optional plotting hints may be supplied via Plotting.

```go
type DataRef struct {
    PartitionName string
    ValueIndices  []int
    Plotting      *DataPlotting
}
```

<a name="DataRef.GetFromStorage"></a>

### func \(\*DataRef\) [GetFromStorage](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/data.go#L120-L122>)

```go
func (d *DataRef) GetFromStorage(storage *simulator.StateTimeStorage) [][]float64
```

GetFromStorage returns the entire referenced series. For a time reference, this is a single series containing all times; for a value reference, this is one series per value index.

<a name="DataRef.GetSeriesNames"></a>

### func \(\*DataRef\) [GetSeriesNames](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/data.go#L84-L86>)

```go
func (d *DataRef) GetSeriesNames(storage *simulator.StateTimeStorage) []string
```

GetSeriesNames returns human\-readable series labels for plotting. Time references are labeled "time"; value references are labeled as "\<partition\> \<index\>".

<a name="DataRef.GetTimeIndexFromStorage"></a>

### func \(\*DataRef\) [GetTimeIndexFromStorage](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/data.go#L100-L103>)

```go
func (d *DataRef) GetTimeIndexFromStorage(storage *simulator.StateTimeStorage, timeIndex int) []float64
```

GetTimeIndexFromStorage returns the data at a specific time index. For a time reference, this is a single\-element slice containing the time value; for a value reference, this is the row slice for that time index.

<a name="DataRef.GetValueIndices"></a>

### func \(\*DataRef\) [GetValueIndices](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/data.go#L69-L71>)

```go
func (d *DataRef) GetValueIndices(storage *simulator.StateTimeStorage) []int
```

GetValueIndices returns the referenced value indices, defaulting to all indices within the partition when ValueIndices is nil.

<a name="FillLineRef"></a>

## type [FillLineRef](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/plot.go#L121-L124>)

FillLineRef specifies an upper and lower bound series used to fill a confidence region in a line plot.

```go
type FillLineRef struct {
    Upper DataRef
    Lower DataRef
}
```

<a name="GroupedStateTimeStorage"></a>

## type [GroupedStateTimeStorage](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L16-L21>)

GroupedStateTimeStorage is a representation of simulator.StateTimeStorage which has already had a grouping transformation applied to it.

```go
type GroupedStateTimeStorage struct {
    Storage *simulator.StateTimeStorage
    // contains filtered or unexported fields
}
```

<a name="NewGroupedStateTimeStorage"></a>

### func [NewGroupedStateTimeStorage](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L71-L74>)

```go
func NewGroupedStateTimeStorage(applied AppliedGrouping, storage *simulator.StateTimeStorage) *GroupedStateTimeStorage
```

NewGroupedStateTimeStorage creates a new GroupedStateTimeStorage given the provided simulator.StateTimeStorage and applied grouping.

<a name="GroupedStateTimeStorage.GetAcceptedValueGroupLabels"></a>

### func \(\*GroupedStateTimeStorage\) [GetAcceptedValueGroupLabels](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L49>)

```go
func (g *GroupedStateTimeStorage) GetAcceptedValueGroupLabels() []string
```

GetAcceptedValueGroupLabels returns the unique group labels that were found in the data which are typically used for labelling plots.

<a name="GroupedStateTimeStorage.GetAcceptedValueGroups"></a>

### func \(\*GroupedStateTimeStorage\) [GetAcceptedValueGroups](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L39>)

```go
func (g *GroupedStateTimeStorage) GetAcceptedValueGroups(tupIndex int) []float64
```

GetAcceptedValueGroups returns the unique groups that were found in the data which are typically used to configure group aggregation partitions.

<a name="GroupedStateTimeStorage.GetAcceptedValueGroupsLength"></a>

### func \(\*GroupedStateTimeStorage\) [GetAcceptedValueGroupsLength](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L55>)

```go
func (g *GroupedStateTimeStorage) GetAcceptedValueGroupsLength() int
```

GetAcceptedValueGroupsLength returns the number of accepted value groups \(equivalent to the length of the state vector in simulation partition\).

<a name="GroupedStateTimeStorage.GetGroupTupleLength"></a>

### func \(\*GroupedStateTimeStorage\) [GetGroupTupleLength](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L60>)

```go
func (g *GroupedStateTimeStorage) GetGroupTupleLength() int
```

GetGroupTupleLength returns the length of tuple in the grouping index construction.

<a name="GroupedStateTimeStorage.GetGroupingPartition"></a>

### func \(\*GroupedStateTimeStorage\) [GetGroupingPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L24>)

```go
func (g *GroupedStateTimeStorage) GetGroupingPartition(tupIndex int) string
```

GetGroupingPartitions returns the partition used in the data for grouping.

<a name="GroupedStateTimeStorage.GetGroupingValueIndices"></a>

### func \(\*GroupedStateTimeStorage\) [GetGroupingValueIndices](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L29>)

```go
func (g *GroupedStateTimeStorage) GetGroupingValueIndices(tupIndex int) []float64
```

GetGroupingValueIndices returns the value indices used in the data for grouping.

<a name="GroupedStateTimeStorage.GetPrecision"></a>

### func \(\*GroupedStateTimeStorage\) [GetPrecision](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/grouping.go#L65>)

```go
func (g *GroupedStateTimeStorage) GetPrecision() int
```

GetPrecision returns the requested float precision for grouping.

<a name="IndexRange"></a>

## type [IndexRange](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/data.go#L11-L14>)

IndexRange represents an inclusive\-exclusive \[Lower, Upper\) span of indices. It is commonly used to clip time\-series windows for plotting.

```go
type IndexRange struct {
    Lower int
    Upper int
}
```

<a name="LikelihoodMeanGradient"></a>

## type [LikelihoodMeanGradient](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L182-L188>)

LikelihoodMeanGradient specifies a function mapping params and the gradient of the likelihood mean to a parameter update direction.

```go
type LikelihoodMeanGradient struct {
    Function func(
        params *simulator.Params,
        likeMeanGrad []float64,
    ) []float64
    Width int
}
```

<a name="ParameterisedModel"></a>

## type [ParameterisedModel](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L35-L40>)

ParameterisedModel bundles a likelihood distribution with its parameter configuration and any cross\-partition parameter wiring required at runtime.

```go
type ParameterisedModel struct {
    Likelihood         inference.LikelihoodDistribution
    Params             simulator.Params
    ParamsAsPartitions map[string][]string
    ParamsFromUpstream map[string]simulator.NamedUpstreamConfig
}
```

<a name="ParameterisedModel.Init"></a>

### func \(\*ParameterisedModel\) [Init](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L43>)

```go
func (p *ParameterisedModel) Init()
```

Init ensures internal parameter wiring maps are initialised.

<a name="ParameterisedModelWithGradient"></a>

## type [ParameterisedModelWithGradient](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L162-L167>)

ParameterisedModelWithGradient augments ParameterisedModel with gradient support for optimisation routines.

```go
type ParameterisedModelWithGradient struct {
    Likelihood         inference.LikelihoodDistributionWithGradient
    Params             simulator.Params
    ParamsAsPartitions map[string][]string
    ParamsFromUpstream map[string]simulator.NamedUpstreamConfig
}
```

<a name="ParameterisedModelWithGradient.Init"></a>

### func \(\*ParameterisedModelWithGradient\) [Init](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L170>)

```go
func (p *ParameterisedModelWithGradient) Init()
```

Init ensures internal parameter wiring maps are initialised.

<a name="PosteriorCovariance"></a>

## type [PosteriorCovariance](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/inference.go#L24-L28>)

PosteriorCovariance defines the configuration needed to specify the posterior covariance in the AppliedPosteriorEstimation.

```go
type PosteriorCovariance struct {
    Name         string
    Default      []float64
    JustVariance bool
}
```

<a name="PosteriorLogNorm"></a>

## type [PosteriorLogNorm](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/inference.go#L10-L13>)

PosteriorLogNorm defines the configuration needed to specify the posterior log\-normalisation in the AppliedPosteriorEstimation.

```go
type PosteriorLogNorm struct {
    Name    string
    Default float64
}
```

<a name="PosteriorMean"></a>

## type [PosteriorMean](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/inference.go#L17-L20>)

PosteriorMean defines the configuration needed to specify the posterior mean in the AppliedPosteriorEstimation.

```go
type PosteriorMean struct {
    Name    string
    Default []float64
}
```

<a name="PosteriorSampler"></a>

## type [PosteriorSampler](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/inference.go#L32-L36>)

PosteriorSampler defines the configuration needed to specify the posterior sampler in the AppliedPosteriorEstimation.

```go
type PosteriorSampler struct {
    Name         string
    Default      []float64
    Distribution ParameterisedModel
}
```

<a name="PostgresDb"></a>

## type [PostgresDb](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L14-L20>)

PostgresDb is a struct which can be configured to define interactions with a PostgresSQL database.

```go
type PostgresDb struct {
    User      string
    Password  string
    Dbname    string
    TableName string
    // contains filtered or unexported fields
}
```

<a name="PostgresDb.OpenTableConnection"></a>

### func \(\*PostgresDb\) [OpenTableConnection](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L24>)

```go
func (p *PostgresDb) OpenTableConnection() error
```

OpenTableConnection connects to the PostgreSQL database or creates it if it doesn't exist.

<a name="PostgresDb.ReadStateInRange"></a>

### func \(\*PostgresDb\) [ReadStateInRange](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L83-L87>)

```go
func (p *PostgresDb) ReadStateInRange(partitionName string, startTime float64, endTime float64) (*sql.Rows, error)
```

ReadStateInRange retrieves all entries between a specified start and end time range for a given partition.

<a name="PostgresDb.WriteState"></a>

### func \(\*PostgresDb\) [WriteState](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L47-L51>)

```go
func (p *PostgresDb) WriteState(partitionName string, time float64, state []float64) error
```

WriteState writes a new partition state value to the database.

<a name="PostgresDbOutputFunction"></a>

## type [PostgresDbOutputFunction](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L103-L105>)

PostgresDbOutputFunction writes the data from the simulation to a PostgresSQL database when the simulator.OutputCondition is met.

```go
type PostgresDbOutputFunction struct {
    // contains filtered or unexported fields
}
```

<a name="NewPostgresDbOutputFunction"></a>

### func [NewPostgresDbOutputFunction](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L116-L118>)

```go
func NewPostgresDbOutputFunction(db *PostgresDb) *PostgresDbOutputFunction
```

NewPostgresDbOutputFunction creates a new PostgresDbOutputFunction.

<a name="PostgresDbOutputFunction.Output"></a>

### func \(\*PostgresDbOutputFunction\) [Output](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/postgres.go#L107-L111>)

```go
func (p *PostgresDbOutputFunction) Output(partitionName string, state []float64, cumulativeTimesteps float64)
```



<a name="WindowedPartition"></a>

## type [WindowedPartition](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L16-L19>)

WindowedPartition configures a partition that participates in a finite windowed simulation.

Usage hints:

- Partition defines the inner partition and its params.
- OutsideUpstreams map allows wiring upstreams from outside the window.

```go
type WindowedPartition struct {
    Partition        *simulator.PartitionConfig
    OutsideUpstreams map[string]simulator.NamedUpstreamConfig
}
```

<a name="WindowedPartitions"></a>

## type [WindowedPartitions](<https://github.com/umbralcalc/stochadex/blob/main/pkg/analysis/likelihood.go#L27-L31>)

WindowedPartitions defines the sliding\-window context used by analysis.

Usage hints:

- Partitions are simulated inside the window.
- Data references supply historical values to seed and drive the window.
- Depth is the number of steps in the window.

```go
type WindowedPartitions struct {
    Partitions []WindowedPartition
    Data       []DataRef
    Depth      int
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
